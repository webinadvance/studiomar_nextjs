Bridge.assembly("Client",function($asm,globals){"use strict";Bridge.define("Client.App",{statics:{fields:{CONTENT:null,HEADER:null,ISMOBILE:!1,NAVIGATOR:null,SIGNALRCONNECTION:null,WRAPPER:null,SIGNALRPROXY:null,PEOPLE:null},props:{TOKEN:{get:function(){return getCookie("token_12")}}},ctors:{init:function(){this.CONTENT=Client.Core.ControlStyles_GENERATED.MainContent(new Client.Core.Control.ctor);this.HEADER=new Client.Controls.ControlHeader;this.ISMOBILE=window.outerWidth<1280;this.NAVIGATOR=new Client.Controls.ControlNavigator;this.SIGNALRCONNECTION=$.hubConnection();this.WRAPPER=Client.Core.ControlStyles_GENERATED.Wrapper(new Client.Core.Control.ctor);this.SIGNALRPROXY=Client.App.SIGNALRCONNECTION.createHubProxy("myHub");Bridge.ready(this.Main)}},methods:{Login:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,res,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(Client.App.PEOPLE!=null){$tcs.setResult(null);return}$task1=Client.Core.Api.GetAsyncSilent("DbUserGetByGUID",Client.Core.Serialization.Serialize(Client.App.TOKEN));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;Client.App.PEOPLE=System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE),res)).firstOrDefault(null,null);Client.App.PEOPLE=Client.App.PEOPLE||($t=new Client.Model.PEOPLE,$t.EPROFILE=System.Enum.toString(Client.Model.Enums.EPROFILE,"PUBLIC"),$t.LASTNAME="anonimo",$t);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Main:function(){setTimeout(function(dsadfad){var $step=0,$task1,$task2,$task3,$task4,$taskResult4,dsadfad,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3,4,5,6],$step);switch($step){case 0:if(!!window.MSInputMethodContext&&!!document.documentMode){alert("Microsoft Internet Explorer 11 is not supported (and you shouldn't use it)\r\ntry another browser (Chrome, Safari, Firefox, Edge...)");return}moment.locale("it");$task1=Client.Core.Localization.Init();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();Client.App.Notify("traduzioni caricate");page("/:module/:data?",function(ctx){var $step=0,$task1,$task2,$taskResult2,ctx,$jumpFromFinally,$returnValue,$t,$t1,route,instance,e,$async_e,$async_e1,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([1,2,3,4,5],$step);switch($step){case 1:($t=new Client.Controls.ControlStickyButton(null))!=null&&($t1=$t.SELECTORINSTANCE)!=null?$t1.remove():null;new Client.Controls.ControlStickyButton("fas fa-long-arrow-alt-left").Click(function(){history.back()});new Client.Controls.ControlStickyButtonLeft(null);document.body.style.backgroundImage=null;Client.Core.Realtime.Clear();route=System.Linq.Enumerable.from(Client.Core.Routing.ROUTES).selectMany(function(x){return x.ROUTES}).union(Client.Core.Routing.ROUTES).singleOrDefault(function(x){return Bridge.referenceEquals(x.PATH,Bridge.as("/"+ctx.params.module,System.String))},null);instance=Bridge.cast(Bridge.createInstance(route.TYPE,[ctx.params]),Client.Module.Moldule);Client.App.CONTENT.Clear();Client.App.NAVIGATOR.Left(route.NAME);Client.App.NAVIGATOR.Left2(null);$task1=Client.App.Login();$step=2;$task1.continueWith($asyncBody,!0);return;case 2:$task1.getAwaitedResult();$task2=instance!=null?instance.Get():null;$step=3;$task2.continueWith($asyncBody,!0);return;case 3:$taskResult2=$task2.getAwaitedResult();Client.Core.DomJs.Add$2(Client.App.CONTENT,$taskResult2);$step=5;continue;case 4:Client.Core.Logging.Log(e);Client.Core.PageJs.Redirect("/home");$async_e=null;$step=5;continue;case 5:return;default:return}}}catch($async_e1){if($async_e=System.Exception.create($async_e1),$step>=1&&$step<=3){e=$async_e;$step=4;$asyncBody();return}throw $async_e;}},arguments);$asyncBody()});System.String.isNullOrEmpty(System.String.trim(window.location.pathname,[47]))&&Client.Core.PageJs.Redirect("/home");page();Client.Core.DomJs.Add(Client.App.WRAPPER,Client.App.NAVIGATOR);Client.Core.DomJs.Add(Client.App.WRAPPER,Client.App.CONTENT);document.body.appendChild(Client.App.HEADER.DIV);document.body.appendChild(Client.App.WRAPPER.DIV);$task2=Client.App.Login();$step=2;$task2.continueWith($asyncBody,!0);return;case 2:$task2.getAwaitedResult();$task3=Client.Controls.ControlHeader.LoginName(Client.App.PEOPLE);$step=3;$task3.continueWith($asyncBody,!0);return;case 3:if($task3.getAwaitedResult(),Client.Core.Realtime.Init(),Client.App.SIGNALRPROXY.connection.state!==1){$step=4;continue}$step=6;continue;case 4:$task4=System.Threading.Tasks.Task.fromPromise(Client.App.SIGNALRCONNECTION.start().done(function(){Client.App.Notify("connessione all hub riuscita")}));$step=5;$task4.continueWith($asyncBody,!0);return;case 5:$taskResult4=$task4.getAwaitedResult();$step=6;continue;case 6:return;default:return}}},arguments);$asyncBody()},0)},Notify:function(s,fn){fn===void 0&&(fn=null);Client.Controls.ControlHeader.NOTIFICATIONS.add(s);(new Client.Controls.ControlNotifications).Notify(s,fn)}}},$entryPoint:!0});Bridge.define("Client.Attributes.RouteAttribute",{inherits:[System.Attribute],fields:{VAL:null},ctors:{ctor:function(val){this.$initialize();System.Attribute.ctor.call(this);this.VAL=val}}});Bridge.define("Client.Core.Control",{fields:{DIV:null},props:{BODY:{get:function(){return this.DOCUMENT.body}},CLASS:{get:function(){return Bridge.Reflection.getTypeName(Bridge.getType(this)).toLowerCase()}},DOCUMENT:{get:function(){return document}},SELECTOR:{get:function(){return"."+(Bridge.Reflection.getTypeName(Bridge.getType(this)).toLowerCase()||"")}},SELECTORINSTANCE:{get:function(){return this.DOCUMENT.querySelector(this.SELECTOR)}}},ctors:{ctor:function(){Client.Core.Control.$ctor1.call(this,"div")},$ctor1:function(tag){this.$initialize();this.DIV=document.createElement(tag);Client.Core.DomJs.Class(this,[this.CLASS]);this.OnLoad()}},methods:{Action:function(T,a){return a(this),this},Clear:function(){return this.DIV.innerHTML="",this},Width:function(s){return this.DIV.style.width=s,this},Click:function(fn){return Bridge.staticEquals(fn,null)?this:(this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn()},this)},Click$1:function(fn){return this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn(ev)},this},ClickDes:function(fn){return Client.App.ISMOBILE?this:(this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn()},this)},ClickDes$1:function(fn){return Client.App.ISMOBILE?this:(this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn(ev)},this)},ClickMob:function(fn){return Client.App.ISMOBILE?(this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn()},this):this},ClickMob$1:function(fn){return Client.App.ISMOBILE?(this.DIV.onclick=function(ev){Bridge.staticEquals(fn,null)?null:fn(ev)},this):this},Content:function(s){return this.DIV.innerHTML=s,this},Content$1:function(){return this.DIV.innerHTML},OnRender:function(){},Remove:function(){this.DIV.remove()},OnLoad:function(){}}});Bridge.define("Client.Core.Api",{statics:{methods:{GetAsync$1:function(method,data){return Client.Core.Api.GetAsync(method,!1,data)},GetAsync:function(method,silent,data){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,builder,res,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:silent===void 0&&(silent=!1);data===void 0&&(data=null);silent||(new Client.Controls.ControlMask).Show();builder=new System.Text.StringBuilder;builder.append("/Api.aspx");builder.append("?f=");builder.append(method);$task1=Client.Core.FetchJs.FetchAsync(builder.toString(),data);$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;silent||(new Client.Controls.ControlMask).Hide();System.String.startsWith(res,"ERR:")&&Client.Core.Logging.Alert(System.String.replaceAll(res,"ERR:",""));$tcs.setResult(res);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},GetAsync$2:function(v,p){throw new System.NotImplementedException.ctor;},ClearCredentialAsync:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,builder,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:builder=new System.Text.StringBuilder;builder.append("/ClearCredentials.aspx");$task1=Client.Core.FetchJs.FetchAsync(builder.toString());$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},GetAsyncSilent:function(method,data){return Client.Core.Api.GetAsync(method,!0,data)},UploadAsync:function(s,data){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,builder,res,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:(new Client.Controls.ControlMask).Show();builder=new System.Text.StringBuilder;builder.append("/Api.aspx");builder.append("?f=");builder.append(s);$task1=Client.Core.FetchJs.FetchAsync2(builder.toString(),data);$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;(new Client.Controls.ControlMask).Hide();System.String.startsWith(res,"ERR:")&&Client.Core.Logging.Alert(System.String.replaceAll(res,"ERR:",""));$tcs.setResult(res);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}}});Bridge.define("Client.Core.Browser");Bridge.define("Client.Core.Collections",{statics:{methods:{ToList:function(array){var $t,res=new(System.Collections.Generic.List$1(System.String).ctor),val;$t=Bridge.getEnumerator(array);try{while($t.moveNext())val=$t.Current,res.add(Bridge.toString(val))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return res}}}});Bridge.define("Client.Core.ControlStyles_GENERATED",{statics:{methods:{BgGreen:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["bg-green"]),c},BgWhite:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["bg-white"]),c},Green:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["green"]),c},LineThrough:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["line-through"]),c},AnimationDuration300:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["animation-duration-300"]),c},AnimationDuration1000:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["animation-duration-1000"]),c},AnimationDuration2000:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["animation-duration-2000"]),c},Grayscale:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["grayscale"]),c},Underline:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["underline"]),c},Light:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["light"]),c},Normal:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["normal"]),c},Bold:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["bold"]),c},Bolder:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["bolder"]),c},Italic:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["italic"]),c},HeightAuto:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["height-auto"]),c},Flex:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["flex"]),c},F00:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["f00"]),c},F10:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["f10"]),c},F01:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["f01"]),c},F11:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["f11"]),c},Margin0Auto:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-0-auto"]),c},FontSizeM:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-M"]),c},FontSizeS:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-S"]),c},FontSizeSImp:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-S-imp"]),c},FontSizeSSImp:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-S-S-imp"]),c},FontSizeSS:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-S-S"]),c},FontSizeL:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-L"]),c},FontSizeLLImp:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-L-L-imp"]),c},FontSizeLL:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-L-L"]),c},FontSizeLLL:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-L-L-L"]),c},FontSizeLLLImp:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["font-size-L-L-L-imp"]),c},AlignContentCenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["align-content-center"]),c},AlignItemsCenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["align-items-center"]),c},AlignSelfCenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["align-self-center"]),c},AlignSelfStart:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["align-self-start"]),c},AlignSelfEnd:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["align-self-end"]),c},JustifyContentCenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["justify-content-center"]),c},JustifyContentFlexEnd:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["justify-content-flex-end"]),c},JustifyContentSpaceBetween:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["justify-content-space-between"]),c},JustifyContentSpaceAround:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["justify-content-space-around"]),c},Column:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["column"]),c},Row:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["row"]),c},BorderLeftBase:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["border-left-base"]),c},Z1:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z1"]),c},Z2:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z2"]),c},Z1Bottom:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z1-bottom"]),c},None:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["none"]),c},Des:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["des"]),c},Mob:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["mob"]),c},ZIndex:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z-index"]),c},ZIndex1:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z-index1"]),c},ZIndex2:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["z-index2"]),c},Fixed:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["fixed"]),c},Absolute:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["absolute"]),c},Relative:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["relative"]),c},Pointer:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["pointer"]),c},Hover:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["hover"]),c},Uppercase:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["uppercase"]),c},Lowercase:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["lowercase"]),c},Capitalize:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["capitalize"]),c},BgStriped:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["bg-striped"]),c},Section:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["section"]),c},W100:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["w100"]),c},FlexStretch:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["flex-stretch"]),c},Aleft:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["aleft"]),c},Aright:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["aright"]),c},Acenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["acenter"]),c},Nowrap:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["nowrap"]),c},Ellipsis:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["ellipsis"]),c},Accent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["accent"]),c},White:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["white"]),c},AccentBg:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["accent-bg"]),c},Base:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["base"]),c},Padding:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding"]),c},PaddingLeft:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-left"]),c},PaddingLeftMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-left-min"]),c},PaddingRight:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-right"]),c},PaddingRight2x:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-right-2x"]),c},PaddingRightMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-right-min"]),c},PaddingBottom:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-bottom"]),c},PaddingBottomMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-bottom-min"]),c},PaddingTop:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-top"]),c},PaddingTopMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["padding-top-min"]),c},Margin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin"]),c},MarginMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-min"]),c},MarginTop:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-top"]),c},MarginTopMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-top-min"]),c},MarginBottom:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-bottom"]),c},MarginBottomMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-bottom-min"]),c},MarginLeftMin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["margin-left-min"]),c},Width1Perc:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["width-1-perc"]),c},Width100Perc:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["width-100-perc"]),c},Avatar:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["avatar"]),c},AvatarGrid:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["avatar-grid"]),c},Wrapper:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["wrapper"]),c},FirstLetterAccent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["first-letter-accent"]),c},Controlheader:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader"]),c},ControlheaderLeft:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-left"]),c},ControlheaderCenter:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-center"]),c},ControlheaderRight:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-right"]),c},ControlheaderMenu:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-menu"]),c},ControlheaderMenuItem:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-menu-item"]),c},ControlheaderIcon:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-icon"]),c},ControlheaderMenuIconMenu:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-menu-icon-menu"]),c},ControlheadeNotify:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheade-notify"]),c},ControlheaderLogin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-login"]),c},ControlheaderLogo:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlheader-logo"]),c},MainContent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["main-content"]),c},ModForm:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["mod-form"]),c},ModFormDateLabel:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["mod-form-date-label"]),c},Controltabs:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controltabs"]),c},Opaque7:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["opaque7"]),c},Opaque5:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["opaque5"]),c},Opaque3:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["opaque3"]),c},BtnFlat:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-flat"]),c},BtnSolid:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-solid"]),c},BtnSolidDisabled:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-solid-disabled"]),c},BtnSolidAccent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-solid-accent"]),c},BtnSolidGreen:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-solid-green"]),c},BtnTransparent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["btn-transparent"]),c},RecordsNum:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["records-num"]),c},Input:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["input"]),c},ImgProfile:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["img-profile"]),c},ImgBackground:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["img-background"]),c},ImgText1:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["img-text-1"]),c},TagGreen:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-green"]),c},TagGreenBig:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-green-big"]),c},TagBaseBig:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-base-big"]),c},TagAccentBig:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-accent-big"]),c},TagBase:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-base"]),c},TagAccent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["tag-accent"]),c},Controldynamicmenu:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controldynamicmenu"]),c},ControldynamicmenuItem:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controldynamicmenu-item"]),c},Controlmask:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmask"]),c},Controllist:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist"]),c},ControllistCaption:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-caption"]),c},ControllistCaptionContent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-caption-content"]),c},ControllistRow:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-row"]),c},ControllistRowHeader:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-row-header"]),c},ControllistCell:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-cell"]),c},ControllistCellHeader:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controllist-cell-header"]),c},Controltoolbar:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controltoolbar"]),c},ControltoolbarLeft:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controltoolbar-left"]),c},ControltoolbarRight:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controltoolbar-right"]),c},AvatarMe:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["avatar-me"]),c},MeProfileHeader:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["me-profile-header"]),c},Controlmodal:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal"]),c},ControlmodalTitle:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal-title"]),c},ControlmodalContent:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal-content"]),c},ControlmodalContent2:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal-content2"]),c},ControlmodalTop:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal-top"]),c},ControlmodalBottom:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlmodal-bottom"]),c},Controlstickybutton:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlstickybutton"]),c},Controlstickybuttonleft:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlstickybuttonleft"]),c},Controliconbutton:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controliconbutton"]),c},FormCommands:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["form-commands"]),c},Controlbuttonfull:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlbuttonfull"]),c},ControlbuttonText:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlbutton-text"]),c},ControlbuttonfullText:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlbuttonfull-text"]),c},Controlnotifications:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlnotifications"]),c},ControlnotificationsItem:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["controlnotifications-item"]),c},Modlogin:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["modlogin"]),c},ModloginLabel:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["modlogin-label"]),c},ModloginLabelDown:function(c,b){return b===void 0&&(b=!0),b&&Client.Core.DomJs.Class(c,["modlogin-label-down"]),c}}}});Bridge.define("Client.Core.CookieJs");Bridge.define("Client.Core.DomJs",{statics:{methods:{Add$3:function(root,c){return root.appendChild(c.DIV),c.OnRender(),root},Add:function(root,c){return c==null?root:(root.DIV.appendChild(c.DIV),c.OnRender(),root)},Add$1:function(root,controls){var $t,c;controls===void 0&&(controls=[]);$t=Bridge.getEnumerator(controls);try{while($t.moveNext())c=$t.Current,root.DIV.appendChild(c.DIV),c.OnRender()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return root},Add$2:function(root,c){return root.DIV.appendChild(c),root},Class:function(control,$class){var $t,$t1,c,className;if($class===void 0&&($class=[]),$class==null)return control;$t=Bridge.getEnumerator($class);try{while($t.moveNext()){c=$t.Current;$t1=Bridge.getEnumerator(System.String.split(c,[32].map(function(i){return String.fromCharCode(i)})));try{while($t1.moveNext())className=$t1.Current,System.String.isNullOrEmpty(className)||control.DIV.classList.add(className)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return control},Class$1:function(root,$class){var $t,c;if($class===void 0&&($class=[]),$class==null)return root;$t=Bridge.getEnumerator($class);try{while($t.moveNext())c=$t.Current,System.String.isNullOrEmpty(c)||root.classList.add(c)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return root},ClassRemove$1:function(root,$class){var $t,c;if($class===void 0&&($class=[]),$class==null)return root;$t=Bridge.getEnumerator($class);try{while($t.moveNext())c=$t.Current,System.String.isNullOrEmpty(c)||root.classList.remove(c)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return root},ClassRemove:function(control,$class){var $t,$t1,c,className;if($class===void 0&&($class=[]),$class==null)return control;$t=Bridge.getEnumerator($class);try{while($t.moveNext()){c=$t.Current;$t1=Bridge.getEnumerator(System.String.split(c,[32].map(function(i){return String.fromCharCode(i)})));try{while($t1.moveNext())className=$t1.Current,System.String.isNullOrEmpty(className)||control.DIV.classList.remove(className)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return control},Clear:function(root){return root.innerHTML=null,root}}}});Bridge.define("Client.Core.FetchJs",{statics:{methods:{FetchAsync:function(s,d){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,data,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:d===void 0&&(d=null);data={};data.body=Client.Core.Serialization.Serialize({token_12:Client.App.TOKEN,data:d});data.cache="no-cache";data.credentials="same-origin";data.headers=($t=new Client.Core.FetchJs.Headers,$t["content-type"]="application/json",$t);data.method="POST";data.mode="cors";data.redirect="follow";data.referrer="no-referrer";$task1=System.Threading.Tasks.Task.fromPromise(fetch(s,data).then(function(response){return response.text()}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Bridge.toString($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},FetchAsync2:function(s,d){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,data,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:d===void 0&&(d=null);data={};data.body=d;data.cache="no-cache";data.credentials="same-origin";data.headers=($t=new Client.Core.FetchJs.Headers,$t["content-type"]="application/json",$t);data.method="POST";data.mode="cors";data.redirect="follow";data.referrer="no-referrer";$task1=System.Threading.Tasks.Task.fromPromise(fetch(s,data).then(function(response){return response.text()}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Bridge.toString($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}}});Bridge.define("Client.Core.FetchJs.Headers",{$kind:"nested class",fields:{"content-type":null,"Access-Control-Allow-Origin":null,"user-agent":null}});Bridge.define("Client.Core.Localization",{statics:{fields:{ITEMS:null},methods:{Init:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync("DbLocalizationGetAll");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.Localization.ITEMS=System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.LOCALIZATION),$taskResult1)).toList(Client.Model.LOCALIZATION);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},T:function(s){var $t,$t1,italiano;return s==null?s:(italiano=($t=System.Linq.Enumerable.from(Client.Core.Localization.ITEMS).singleOrDefault(function(x){var $t1;return Bridge.referenceEquals(x!=null&&($t1=x.K)!=null?$t1.toUpperCase():null,s!=null?s.toUpperCase():null)},null))!=null?$t.ITALIANO:null,setTimeout(function(a){var $step=0,$task1,$taskResult1,a,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:return;default:return}}},arguments);$asyncBody()},0),$t1=italiano,$t1!=null?$t1:s)}}}});Bridge.define("Client.Core.Logging",{statics:{methods:{Alert:function(o){if(Bridge.is(o,System.String)){alert(Bridge.cast(o,System.String));return}alert(Newtonsoft.Json.JsonConvert.SerializeObject(o))},Log:function(o){Bridge.Console.log(o)}}}});Bridge.define("Client.Core.Maps",{statics:{fields:{APYKEY:null,CACHEADDRESS:null},ctors:{init:function(){this.APYKEY="AIzaSyDRCxEQanQnzhwrhUGDYq_hsVs7Pytj8Uo"}},methods:{GetMyAddress:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,res,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Maps.GetPositionAsync();$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;$tcs.setResult(res);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},GeoCode:function(position){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,res,result,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=System.Threading.Tasks.Task.fromPromise($.getJSON("https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyDRCxEQanQnzhwrhUGDYq_hsVs7Pytj8Uo&latlng="+System.Double.format(position.coords.latitude)+","+System.Double.format(position.coords.longitude)));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;result=res[0].results[0];$tcs.setResult(result);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},GetPositionAsync:function(){if(Client.Core.Maps.CACHEADDRESS!=null)return System.Threading.Tasks.Task.fromResult(Client.Core.Maps.CACHEADDRESS,System.String);var tcs=new System.Threading.Tasks.TaskCompletionSource;return navigator.geolocation.getCurrentPosition(function(position){var $step=0,$task1,$taskResult1,position,$jumpFromFinally,address,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Maps.GeoCode(position);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();address=$taskResult1.formatted_address;Client.Core.Maps.CACHEADDRESS=Bridge.cast(address,System.String);tcs.setResult(Bridge.cast(address,System.String));return;default:return}}},arguments);$asyncBody()},function(error){tcs.setResult("")}),tcs.task}}}});Bridge.define("Client.Core.Module");Bridge.define("Client.Core.MomentJs",{statics:{methods:{MomentFormat:function(o,format){return o==null?"--":moment(o).format(format)},MomentFromNow:function(o){return moment(o).fromNow()}}}});Bridge.define("Client.Core.Notifications");Bridge.define("Client.Core.PageJs",{statics:{methods:{Redirect:function(s,data){data===void 0&&(data=null);window.history.pushState({},s);page.redirect((s||"")+"/"+(encodeURIComponent(Client.Core.Serialization.Serialize(data))||""))},Back:function(){window.history.back()},Reload:function(){window.location.reload(!1)},Hash:function(s){window.location.replace("#"+(s||""));window.history.replaceState(null,null,"#"+(s||""))}}}});Bridge.define("Client.Core.PageJs.PageContext",{$kind:"nested class",fields:{params:null}});Bridge.define("Client.Core.Realtime",{statics:{fields:{clientACCESS:null,clientBOOK:null},methods:{Clear:function(){Client.Core.Realtime.clientBOOK=null;Client.Core.Realtime.clientACCESS=null},Init:function(){Client.App.SIGNALRPROXY.on("clientBOOK",function(w){var $t;Client.App.Notify("Ã¨ stato prenotato un corso");Bridge.staticEquals($t=Client.Core.Realtime.clientBOOK,null)?null:$t()});Client.App.SIGNALRPROXY.on("clientACCESS",function(w){var $step=0,w,$jumpFromFinally,user,$t,name,$t1,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:user=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.PEOPLE),w))[0];name=(user.LASTNAME||"")+" "+(user.FIRSTNAME||"");Client.App.Notify((name||"")+" ha effettuato un accesso ",function(){Client.Core.PageJs.Redirect("/utente",{ID:user.ID})});$notify(name.toUpperCase(),"ACCESSO",user.PROFILE_PIC,void 0,void 0);Bridge.staticEquals($t1=Client.Core.Realtime.clientACCESS,null)?null:$t1();return;default:return}}},arguments);$asyncBody()})}}}});Bridge.define("Client.Core.RichTextEditor");Bridge.define("Client.Core.Routing",{statics:{fields:{ROUTES:null},ctors:{init:function(){this.ROUTES=function(_o1){var $t;return _o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/home",$t.NAME="home",$t.TYPE=Client.Module.ModHome,$t.PERMISSION=System.Array.init(["PUBLIC"],Client.Model.Enums.EPROFILE),$t.ISMENU=!0,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/scadenze",$t.NAME="scadenze",$t.TYPE=Client.Module.ModScadenze,$t.PERMISSION=System.Array.init(["ADMINISTRATOR"],Client.Model.Enums.EPROFILE),$t.ISMENU=!0,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/utenti",$t.NAME="utenti",$t.TYPE=Client.Module.ModUtenti,$t.PERMISSION=System.Array.init(["ADMINISTRATOR"],Client.Model.Enums.EPROFILE),$t.ISMENU=!0,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/clienti",$t.NAME="clienti",$t.TYPE=Client.Module.ModClienti,$t.PERMISSION=System.Array.init(["ADMINISTRATOR"],Client.Model.Enums.EPROFILE),$t.ISMENU=!0,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/scadenza",$t.NAME="scadenza",$t.TYPE=Client.Module.ModFormScadenza,$t.ISMENU=!1,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/utente",$t.NAME="utente",$t.TYPE=Client.Module.ModFormUtenti,$t.ISMENU=!1,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/cliente",$t.NAME="cliente",$t.TYPE=Client.Module.ModFormClienti,$t.ISMENU=!1,$t)),_o1.add(($t=new Client.Core.Routing.Route,$t.PATH="/accedi",$t.NAME="accedi",$t.PERMISSION=System.Array.init(["PUBLIC"],Client.Model.Enums.EPROFILE),$t.TYPE=Client.Module.ModLogin,$t.ISMENU=!0,$t)),_o1}(new(System.Collections.Generic.List$1(Client.Core.Routing.Route).ctor))}}}});Bridge.define("Client.Core.Routing.Route",{$kind:"nested class",fields:{ISMENU:!1,NAME:null,PATH:null,PERMISSION:null,ROUTES:null,TYPE:null},ctors:{init:function(){this.ROUTES=new(System.Collections.Generic.List$1(Client.Core.Routing.Route).ctor)}}});Bridge.define("Client.Core.RoutingAttribute",{inherits:[System.Attribute]});Bridge.define("Client.Core.Serialization",{statics:{methods:{Deserialize$1:function(o){return System.String.isNullOrEmpty(o)?null:Newtonsoft.Json.JsonConvert.DeserializeObject(o,System.Object)},Deserialize:function(T,o){return System.String.isNullOrEmpty(o)?Bridge.getDefaultValue(T):Newtonsoft.Json.JsonConvert.DeserializeObject(o,T)},Serialize:function(o){return o==null?"":JSON.stringify(o)}}}});Bridge.define("Client.Core.Sortable");Bridge.define("Client.Core.Types",{statics:{methods:{ToEnum:function(T,o){return o==null?Bridge.getDefaultValue(T):Bridge.cast(System.Enum.parse(T,Bridge.toString(o)),T)},ToBool:function(o){return o==null?Bridge.getDefaultValue(System.Boolean):System.Convert.toBoolean(o)},ToBoolNull:function(o){return o==null?null:System.Convert.toBoolean(o)},ToDatetime:function(o){return o==null?Bridge.getDefaultValue(System.DateTime):System.Convert.toDateTime(o)},ToDatetimeNull:function(o){return o==null?null:System.Convert.toDateTime(o)},ToInt:function(o){return o==null||Bridge.referenceEquals(Bridge.toString(o).toUpperCase(),"NULL")?0:System.Convert.toInt32(o)},ToIntNull:function(o){return o==null||Bridge.referenceEquals(Bridge.toString(o).toUpperCase(),"NULL")?null:System.Convert.toInt32(o)},ToDoubleNull:function(o){return o==null||Bridge.referenceEquals(Bridge.toString(o).toUpperCase(),"NULL")?null:System.Convert.toDouble(o)},ToFloatNull:function(o){return o==null||Bridge.referenceEquals(Bridge.toString(o).toUpperCase(),"NULL")?null:System.Convert.toDouble(o)}}}});Bridge.define("Client.Core.UrlJs");Bridge.define("Client.Model.ANVIZ_ACCESS",{fields:{RO_ERROR:null,RO_PEOPLE_NAME:null,RO_PROFILE_PIC:null,ID:0,TIME:null,DISPLAY:null,INS_DATE:null,MOD_DATE:null,NAME:null,INS_USER_ID:null,PEOPLE_id:null,IS_NOTIFY:!1,NOTIFY:!1,IS_ACTIVE:!1}});Bridge.define("Client.Model.CARD",{fields:{RO_PT_NAME:null,RO_PATENT:null,ID:0,NAME:null,TRAINER_ID:null,INS_DATE:null,MOD_DATE:null,DURATION:null,MOD_USER_ID:null,DESC:null,LEVEL:null,FREQ:0},ctors:{init:function(){this.INS_DATE=System.DateTime.getDefaultValue();this.MOD_DATE=System.DateTime.getDefaultValue()}}});Bridge.define("Client.Model.CARD_DETAILS",{fields:{RO_EXERCISE_NAME:null,RO_EXERCISE_URL:null,ID:0,INS_DATE:null,MOD_DATE:null,CARD_ID:0,EXERCISE_ID:0,ORDER:0,REPS:0,SETS:0,METHOD:null,REST:0,GROUP:null,NOTE:null},ctors:{init:function(){this.INS_DATE=System.DateTime.getDefaultValue();this.MOD_DATE=System.DateTime.getDefaultValue()}}});Bridge.define("Client.Model.CLIENTI",{fields:{ID:0,NAME:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1}});Bridge.define("Client.Model.CLUB",{fields:{RO_AFFILIEATES:0,ID:0,NAME:null,ADDRESS:null,MOD_DATE:null,INS_DATE:null,DOMAIN:null,IS_ADMIN:!1}});Bridge.define("Client.Model.COURSE",{fields:{ID:0,NAME:null,INS_DATE:null,MOD_DATE:null,INS_USER_ID:null,DISPLAY:null,COURSE_MAX:null,PEOPLE_id:null,IS_ACTIVE:!1}});Bridge.define("Client.Model.COURSE_DATA",{fields:{RO_CLUB_ADDRSS:null,RO_CLUB_DSTNC:null,RO_CLUB_NAME:null,RO_COURSE_DATA_PEOPLE_ID:null,RO_COURSE_NAME:null,RO_FREE_PLACES:0,RO_MY_BOOKING:null,RO_STATUS:null,RO_TRAINER_NAME:null,ID:0,INS_DATE:null,MOD_DATE:null,NAME:null,INS_USER_ID:null,COURSE_id:null,IS_ACTIVE:!1,DAY:null,TRAINER_id:null,PLACES:null,STIME:null,CREDITS:null,SUSPENDED:!1,STARTED:!1,DATE:null,WEEK:null,CLUB_ID:null}});Bridge.define("Client.Model.COURSE_DATA_PEOPLE",{fields:{ID:0,DISPLAY:null,INS_DATE:null,MOD_DATE:null,NAME:null,INS_USER_ID:null,COURSE_DATA_id:null,PEOPLE_id:null,IS_ACTIVE:!1,WEEK:null,COURSE_DATE:null}});Bridge.define("Client.Model.COURSE_DATA_STATUS",{fields:{ID:0,WEEK:null,ECOURSESTATUS:null,NAME:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1,COURSE_DATA_id:null}});Bridge.define("Client.Model.Enums.EACTION",{$kind:"enum",statics:{fields:{DEPOSIT:"DEPOSIT",BALANCE:"BALANCE",ASSOCIATION:"ASSOCIATION",CREDITS_ADD:"CREDITS_ADD",CREDITS_REM:"CREDITS_REM"}},$utype:System.String});Bridge.define("Client.Model.Enums.EACTIVE",{$kind:"enum",statics:{fields:{ATTIVO:"ATTIVO",NON_ATTIVO:"NON_ATTIVO"}},$utype:System.String});Bridge.define("Client.Model.Enums.ECARDLEVEL",{$kind:"enum",statics:{fields:{INTERMEDIO:"INTERMEDIO",PRINCIPIANTE:"PRINCIPIANTE",AVANZATO:"AVANZATO"}},$utype:System.String});Bridge.define("Client.Model.Enums.ECOURSESTATUS",{$kind:"enum",statics:{fields:{SUSPENDED:"SUSPENDED"}},$utype:System.String});Bridge.define("Client.Model.Enums.EFASCIAORARIA",{$kind:"enum",statics:{fields:{OPEN:"OPEN",MATTINA:"MATTINA",POMERIGGIO:"POMERIGGIO"}},$utype:System.String});Bridge.define("Client.Model.Enums.EGENDER",{$kind:"enum",statics:{fields:{M:"M",F:"F"}},$utype:System.String});Bridge.define("Client.Model.Enums.EMUSCLE",{$kind:"enum",statics:{fields:{M_CHEST:"M_CHEST",M_BACK:"M_BACK",M_SHOULDER:"M_SHOULDER",M_LOWER:"M_LOWER",M_TRICEPS:"M_TRICEPS",M_CARDIO:"M_CARDIO",M_BICEPS:"M_BICEPS"}},$utype:System.String});Bridge.define("Client.Model.Enums.EPROFILE",{$kind:"enum",statics:{fields:{PUBLIC:"PUBLIC",ADMINISTRATOR:"ADMINISTRATOR",PRIVATE:"PRIVATE",GUEST:"GUEST",STAFF:"STAFF",TRAINER:"TRAINER",USER:"USER",TABLET:"TABLET"}},$utype:System.String});Bridge.define("Client.Model.Enums.ESTATUS",{$kind:"enum",statics:{fields:{EXPIRED_PAYMENTS:"EXPIRED_PAYMENTS",SUBSCRIPTION_EXPIRED:"SUBSCRIPTION_EXPIRED",MEMBERSHIP_EXPIRED:"MEMBERSHIP_EXPIRED",MEMBERSHIP_MISSING:"MEMBERSHIP_MISSING",MEDICAL_CHECK_MISSING:"MEDICAL_CHECK_MISSING",MEDICAL_CHECK_EXPIRED:"MEDICAL_CHECK_EXPIRED"}},$utype:System.String});Bridge.define("Client.Model.Enums.ESUBSCRIPTIONTYPE",{$kind:"enum",statics:{fields:{NESSUNO:"NESSUNO",PALESTRA:"PALESTRA",CROSSFIT:"CROSSFIT",CORSI:"CORSI",OPEN_WELLNESS:"OPEN_WELLNESS",OPEN_POWER:"OPEN_POWER"}},$utype:System.String});Bridge.define("Client.Model.Enums.EWEEK",{$kind:"enum",statics:{fields:{QUESTA_SETTIMANA:"QUESTA_SETTIMANA",SETTIMANA_PROSSIMA:"SETTIMANA_PROSSIMA"}},$utype:System.String});Bridge.define("Client.Model.Enums.EWEEKDAY",{$kind:"enum",statics:{fields:{MONDAY:"MONDAY",TUESDAY:"TUESDAY",WEDNESDAY:"WEDNESDAY",THURSDAY:"THURSDAY",FRIDAY:"FRIDAY",SATURDAY:"SATURDAY",SUNDAY:"SUNDAY"}},$utype:System.String});Bridge.define("Client.Model.EXERCISE",{fields:{ID:0,NAME:null,EMUSCLE:null,INS_DATE:null,MOD_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1,URL:null}});Bridge.define("Client.Model.LOCALIZATION",{fields:{ID:0,K:null,ENGLISH:null,ITALIANO:null,INS_DATE:null,MOD_DATE:null,NAME:null,INS_USER_ID:null,DISPLAY:null,IS_ACTIVE:!1}});Bridge.define("Client.Model.PEOPLE",{fields:{RO_ACCESS:null,RO_ACTIONS:null,TEST:null,ID:0,EMAIL:null,PASSWORD:null,FIRSTNAME:null,SUBSCRIPTION_NUM:null,PHONE_NUMBER:null,LASTNAME:null,BIRTH_DATE:null,RATING:null,EPROFILE:null,NAME:null,EGENDER:null,FISCAL_CODE:null,HEIGHT:null,WEIGHT:null,MEDICAL_CHECK:null,NOTES:null,PAYMENT_OK:!1,FIRST_PAYMENT:null,SECOND_PAYMENT:null,PROFILE_PIC:null,SUBSCRIPTION:null,SUBSCRIPTION_MONTHS:null,SUBSCRIPTION_END:null,SUBSCRIPTION_POINTS:null,ACCESSES_CROSSFIT:0,ACCESSES_COURSE:0,SUBSCRIPTION_START:null,TO_PAY:null,GUID:null,INS_DATE:null,MOD_DATE:null,SUBSCRIPTION_TYPE_id:null,CODE:null,DEPOSIT:null,FIRST_PAYMENT_AMOUNT:null,SECOND_PAYMENT_AMOUNT:null,JSON_PEOPLE_ITEM:null,CARD_START:null,CARD_END:null,ELANGUAGE:null,TRAINER_DATA_id:null,ENOTIFICATION:null,SUBSCRIPTION_EXPIRE_DATE:null,INS_USER_ID:null,DISPLAY:null,AC_ID:null,NOTIFICATIONS:null,LAST_ACCESS:null,LAST_NOTIFICATION:null,IS_ACTIVE:!1,IS_WEEKEND:!1,ESUBSCRIPTIONTYPE:null,MAIL_CHECK:!1,HAS_PAYMENTS:!1,PHONE_CHECK:!1,MEMBERSHIP_START:null,MEMBERSHIP_END:null,IS_SMS_OK:!1,EGROUP:null,PDF_CARD:null,CLUB_ID:null,RO_ERROR:null,IS_EMAIL_OK:!1,TRAINER_ID:null,CARD_ID:null,EFASCIAORARIA:null},ctors:{init:function(){this.BIRTH_DATE=System.DateTime.getDefaultValue();this.INS_DATE=System.DateTime.getDefaultValue()}}});Bridge.define("Client.Model.PEOPLE_ACTIONS",{fields:{ID:0,EACTION:null,VDOUBLE:null,INS_DATE:null,MOD_DATE:null,NAME:null,INS_USER_ID:null,PEOPLE_id:null,DISPLAY:null,DATE:null,IS_DONE:!1,IS_ACTIVE:!1,ESUBSCRIPTIONTYPE:null}});Bridge.define("Client.Model.PEOPLE_PT",{fields:{RO_PT_NAME:null,RO_CARDS:0,RO_PROFILE_PIC:null,RO_DIST:null,RO_MAIL:null,RO_PHONE_NUMBER:null,ID:0,PEOPLE_ID:0,MOD_DATE:null,INS_DATE:null,PATENT:null,ADDRESS:null,AREA:null},ctors:{init:function(){this.MOD_DATE=System.DateTime.getDefaultValue();this.INS_DATE=System.DateTime.getDefaultValue()}}});Bridge.define("Client.Model.SCADENZE",{fields:{RO_UTENTI:null,RO_CLIENTI:null,RO_SCADENZA_REALE:null,ID:0,NAME:null,REC:0,DATE:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1},ctors:{init:function(){this.RO_SCADENZA_REALE=System.DateTime.getDefaultValue()}}});Bridge.define("Client.Model.SCADENZE_CLIENTI",{fields:{ID:0,SCADENZA_ID:null,CLIENTE_ID:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1}});Bridge.define("Client.Model.SCADENZE_UTENTI",{fields:{ID:0,SCADENZA_ID:null,UTENTE_ID:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1}});Bridge.define("Client.Model.SECURITY",{fields:{ID:0,IP:null,MOD_DATE:null,INS_DATE:null}});Bridge.define("Client.Model.UTENTI",{fields:{ID:0,EMAIL:null,NOME:null,COGNOME:null,MOD_DATE:null,INS_DATE:null,INS_USER_ID:null,IS_ACTIVE:!1}});Bridge.define("Client.Module.Moldule",{statics:{methods:{GetHash:function(){return System.String.trim(decodeURIComponent(window.location.hash),[35])}}},fields:{PARAMS:null},props:{BODY:{get:function(){return this.DOCUMENT.body}},DOCUMENT:{get:function(){return document}},DATA:{get:function(){return Client.Core.Serialization.Deserialize(System.Object,Bridge.as(this.PARAMS.data,System.String))}},HASHDATA:{get:function(){var $t;return($t=Client.Module.Moldule.GetHash())!=null?Client.Core.Serialization.Deserialize(System.Object,$t):null}}},ctors:{ctor:function(ctx){this.$initialize();this.PARAMS=ctx}},methods:{Get:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModForm.TypeEmail",{$kind:"nested class"});Bridge.define("Client.Module.ModForm.TypePassword",{$kind:"nested class"});Bridge.define("Client.Module.ModForm.TypeRichText",{$kind:"nested class"});Bridge.define("Client.Module.ModForm.TypeSelect",{$kind:"nested class",fields:{TEXT:null,VALUE:null}});Bridge.define("Client.Module.ModForm.TypeTime",{$kind:"nested class"});Bridge.define("Client.Controls.ControlAvatar",{inherits:[Client.Core.Control],ctors:{ctor:function(s){this.$initialize();Client.Core.Control.ctor.call(this);Client.Core.ControlStyles_GENERATED.AvatarGrid(this);Client.Core.ControlStyles_GENERATED.Grayscale(this);this.DIV.style.backgroundImage=System.String.isNullOrEmpty(s)?"url('/Images/default-user-01.png')":"url('"+(s||"")+"')"}}});Bridge.define("Client.Controls.ControlButton",{inherits:[Client.Core.Control],fields:{ICON:null,TEXT:null},ctors:{init:function(){this.TEXT=Client.Core.ControlStyles_GENERATED.ControlbuttonText(new Client.Core.Control.ctor)},ctor:function(text,icon){this.$initialize();Client.Core.Control.$ctor1.call(this,"div");this.ICON=new Client.Controls.ControlIcon(icon);Client.Core.ControlStyles_GENERATED.AnimationDuration300(this);this.TEXT.Content(text);Client.Core.DomJs.Add(this,this.TEXT);Client.Core.DomJs.Add(this,this.ICON)}}});Bridge.define("Client.Controls.ControlButtonFull",{inherits:[Client.Core.Control],fields:{ICON:null,TEXT:null},ctors:{init:function(){this.TEXT=Client.Core.ControlStyles_GENERATED.ControlbuttonfullText(new Client.Core.Control.ctor)},ctor:function(text,icon){this.$initialize();Client.Core.Control.$ctor1.call(this,"button");this.ICON=new Client.Controls.ControlIcon(icon);Client.Core.ControlStyles_GENERATED.AnimationDuration300(this);this.TEXT.Content(text);Client.Core.DomJs.Add(this,this.TEXT);Client.Core.DomJs.Add(this,this.ICON)}}});Bridge.define("Client.Controls.ControlDynamicMenu",{inherits:[Client.Core.Control],statics:{props:{MASK:{get:function(){return(new Client.Controls.ControlMask).SELECTORINSTANCE}}}},methods:{Items:function(items){var $t,route;items===void 0&&(items=[]);$t=Bridge.getEnumerator(items);try{while($t.moveNext())route={v:$t.Current},route.v.ROUTES.Count===0?Client.Core.DomJs.Add(this,Client.Core.ControlStyles_GENERATED.ControldynamicmenuItem((new Client.Core.Control.ctor).Content((route.v.NAME.toLowerCase()||"")+"").Click(function($me,route){return Bridge.fn.bind($me,function(){var $t1;this!=null?this.Remove():null;($t1=Client.Controls.ControlDynamicMenu.MASK)!=null?$t1.remove():null;Client.Core.PageJs.Redirect(route.v.PATH)})}(this,route)))):(Client.Core.DomJs.Add(this,Client.Core.ControlStyles_GENERATED.ControldynamicmenuItem(Client.Core.ControlStyles_GENERATED.Opaque7((new Client.Core.Control.ctor).Content((route.v.NAME.toLowerCase()||"")+"")))),route.v.ROUTES.ForEach(Bridge.fn.bind(this,function(x){Client.Core.DomJs.Add(this,Client.Core.ControlStyles_GENERATED.ControldynamicmenuItem(Client.Core.ControlStyles_GENERATED.PaddingRight2x((new Client.Core.Control.ctor).Content((x.NAME.toLowerCase()||"")+"")).Click(Bridge.fn.bind(this,function(){var $t1;this!=null?this.Remove():null;($t1=Client.Controls.ControlDynamicMenu.MASK)!=null?$t1.remove():null;Client.Core.PageJs.Redirect(x.PATH)}))))})))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return this},OnRender:function(){Client.Core.Control.prototype.OnRender.call(this);Client.Core.ControlStyles_GENERATED.AnimationDuration300(this);Client.Core.DomJs.Class(this,["animated","slideInDown"])},Hide:function(){var $t,$t1;($t=this.SELECTORINSTANCE)!=null?$t.remove():null;($t1=(new Client.Controls.ControlMask).SELECTORINSTANCE)!=null?$t1.remove():null},ShowHide:function(){var $t,$t1;if(this.SELECTORINSTANCE!=null){($t=this.SELECTORINSTANCE)!=null?$t.remove():null;($t1=(new Client.Controls.ControlMask).SELECTORINSTANCE)!=null?$t1.remove():null;return}(new Client.Controls.ControlMask).OnRemove(Bridge.fn.cacheBind(this,this.ShowHide)).ShowHide();Client.Core.DomJs.Add$3(this.BODY,this)}}});Bridge.define("Client.Controls.ControlHeader",{inherits:[Client.Core.Control],statics:{fields:{NOTIFICATIONS:null,BTNLOGIN:null,BTNMENU:null,BTNHELP:null,LEFT:null,LOGINNAME:null,LOGO:null,MENU:null,NOTIFY:null,RIGHT:null,INTERVAL:0},ctors:{init:function(){this.NOTIFICATIONS=new(System.Collections.Generic.List$1(System.String).ctor);this.BTNLOGIN=Client.Core.ControlStyles_GENERATED.ControlheaderIcon(new Client.Core.Control.ctor);this.BTNMENU=Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.ControlheaderMenuIconMenu(Client.Core.ControlStyles_GENERATED.ControlheaderIcon(new Client.Core.Control.ctor)));this.BTNHELP=Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.ControlheaderMenuIconMenu(Client.Core.ControlStyles_GENERATED.ControlheaderIcon(new Client.Core.Control.ctor)));this.LEFT=Client.Core.ControlStyles_GENERATED.ControlheaderLeft(new Client.Core.Control.ctor);this.LOGINNAME=Client.Core.ControlStyles_GENERATED.ControlheaderLogin(new Client.Core.Control.ctor);this.LOGO=Client.Core.ControlStyles_GENERATED.ControlheaderLogo(new Client.Core.Control.ctor);this.MENU=Client.Core.ControlStyles_GENERATED.ControlheaderMenu(new Client.Core.Control.ctor);this.NOTIFY=Client.Core.ControlStyles_GENERATED.ControlheaderCenter(Client.Core.ControlStyles_GENERATED.ControlheadeNotify(new Client.Core.Control.ctor));this.RIGHT=Client.Core.ControlStyles_GENERATED.ControlheaderRight(new Client.Core.Control.ctor)}},methods:{LoginName:function(p){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,club,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:if(Bridge.referenceEquals(p.EPROFILE,System.Enum.toString(Client.Model.Enums.EPROFILE,"PUBLIC"))){Client.Controls.ControlHeader.LOGINNAME!=null?Client.Controls.ControlHeader.LOGINNAME.Content("accedi / registrati"):null;$tcs.setResult(null);return}if(p.CLUB_ID!=null){$step=1;continue}$step=3;continue;case 1:$task1=Client.Core.Api.GetAsync("DbClubGetByDomain");$step=2;$task1.continueWith($asyncBody);return;case 2:$taskResult1=$task1.getAwaitedResult();club=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CLUB),$taskResult1).getItem(0);Client.Controls.ControlHeader.LOGINNAME!=null?Client.Controls.ControlHeader.LOGINNAME.Content(((club.NAME||"")+" â "+(p.LASTNAME||"")+" "+(p.FIRSTNAME||"")).toLowerCase()):null;$tcs.setResult(null);return;case 3:Client.Controls.ControlHeader.LOGINNAME!=null?Client.Controls.ControlHeader.LOGINNAME.Content(("privato â "+(p.LASTNAME||"")+" "+(p.FIRSTNAME||"")).toLowerCase()):null;$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Notify:function(){Client.Controls.ControlHeader.INTERVAL=setInterval(function(i){var s=System.Linq.Enumerable.from(Client.Controls.ControlHeader.NOTIFICATIONS).firstOrDefault(null,null);if(Client.Controls.ControlHeader.NOTIFICATIONS.remove(System.Linq.Enumerable.from(Client.Controls.ControlHeader.NOTIFICATIONS).firstOrDefault(null,null)),System.String.isNullOrEmpty(s)){Client.Controls.ControlHeader.NOTIFY!=null?Client.Controls.ControlHeader.NOTIFY.Content("benvenuto in Kymera.cloud"):null;return}Client.Controls.ControlHeader.NOTIFY!=null?Client.Controls.ControlHeader.NOTIFY.Content(s):null},3e3)}}},methods:{OnLoad:function(){Client.Core.Control.prototype.OnLoad.call(this);setTimeout(Bridge.fn.bind(this,function(e){var $step=0,$task1,e,$jumpFromFinally,$t,route,a,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.App.Login();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();Client.Controls.ControlHeader.LOGO.Content("360.Kymera.cloud");Client.Controls.ControlHeader.BTNHELP.DIV.title="supporto whatsapp";Client.Core.DomJs.Add(Client.Controls.ControlHeader.BTNMENU,Client.Core.ControlStyles_GENERATED.Pointer(new Client.Controls.ControlIcon("fas fa-bars")));Client.Core.DomJs.Add(Client.Controls.ControlHeader.BTNHELP,Client.Core.ControlStyles_GENERATED.Pointer(new Client.Controls.ControlIcon("fas fa-question-circle"))).Click(function(){window.open("https://chat.whatsapp.com/4dZX4wrbKn3DQrbYIinGEG","_new")});Client.Controls.ControlHeader.BTNMENU.Click(function(){(new Client.Controls.ControlDynamicMenu).Items(System.Linq.Enumerable.from(Client.Core.Routing.ROUTES).where(function(x){return x.ISMENU&&(x.PERMISSION==null||System.Nullable.gt(x.PERMISSION!=null?System.Linq.Enumerable.from(x.PERMISSION).count(function(p){var $t,$t1;return Bridge.referenceEquals(System.Enum.toString(Client.Model.Enums.EPROFILE,p),($t=Client.App.PEOPLE)!=null&&($t1=$t.EPROFILE)!=null?Bridge.toString($t1):null)}):null,0))}).ToArray(Client.Core.Routing.Route)).ShowHide()});System.String.isNullOrEmpty(Client.App.TOKEN)?(Client.Core.DomJs.Add(Client.Controls.ControlHeader.BTNLOGIN,Client.Core.ControlStyles_GENERATED.Pointer(new Client.Controls.ControlIcon("fas fa-sign-in-alt"))),Client.Controls.ControlHeader.BTNLOGIN.Click(function(){Client.Core.PageJs.Redirect("/accedi")}),Client.Controls.ControlHeader.BTNLOGIN.DIV.title="accedi"):(Client.Core.DomJs.Add(Client.Controls.ControlHeader.BTNLOGIN,Client.Core.ControlStyles_GENERATED.Pointer(new Client.Controls.ControlIcon("fas fa-sign-out-alt"))),Client.Controls.ControlHeader.BTNLOGIN.Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.ClearCredentialAsync();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();window.location.href="/";return;default:return}}},arguments);$asyncBody()})),Client.Controls.ControlHeader.BTNLOGIN.DIV.title="esci");$t=Bridge.getEnumerator(System.Linq.Enumerable.from(Client.Core.Routing.ROUTES).where(function(x){return x.ISMENU&&(x.PERMISSION==null||System.Nullable.gt(x.PERMISSION!=null?System.Linq.Enumerable.from(x.PERMISSION).count(function(p){var $t1,$t2;return Bridge.referenceEquals(System.Enum.toString(Client.Model.Enums.EPROFILE,p),($t1=Client.App.PEOPLE)!=null&&($t2=$t1.EPROFILE)!=null?Bridge.toString($t2):null)}):null,0))}).toList(Client.Core.Routing.Route));try{while($t.moveNext())route={v:$t.Current},a=new Client.Core.Control.$ctor1("a"),a.Content(route.v.NAME.toLowerCase()),Client.Core.ControlStyles_GENERATED.Pointer(a),Client.Core.ControlStyles_GENERATED.ControlheaderMenuItem(a),Client.Core.DomJs.Add(Client.Controls.ControlHeader.MENU,a),route.v.ROUTES.Count===0?a.Click(function($me,route){return function(){(new Client.Controls.ControlDynamicMenu).Hide();Client.Core.PageJs.Redirect(route.v.PATH)}}(this,route)):a.Click(function($me,route){return function(){(new Client.Controls.ControlDynamicMenu).Items(System.Linq.Enumerable.from(route.v.ROUTES).where(function(x){return x.ISMENU&&(x.PERMISSION==null||System.Nullable.gt(x.PERMISSION!=null?System.Linq.Enumerable.from(x.PERMISSION).count(function(p){var $t1,$t2;return Bridge.referenceEquals(System.Enum.toString(Client.Model.Enums.EPROFILE,p),($t1=Client.App.PEOPLE)!=null&&($t2=$t1.EPROFILE)!=null?Bridge.toString($t2):null)}):null,0))}).ToArray(Client.Core.Routing.Route)).ShowHide()}}(this,route))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}Client.Core.DomJs.Add(Client.Controls.ControlHeader.LEFT,Client.Controls.ControlHeader.LOGO);Client.Core.DomJs.Add(Client.Controls.ControlHeader.LEFT,Client.Controls.ControlHeader.LOGINNAME);Client.Core.DomJs.Add(Client.Controls.ControlHeader.RIGHT,Client.Controls.ControlHeader.MENU);Client.Core.DomJs.Add(Client.Controls.ControlHeader.RIGHT,Client.Controls.ControlHeader.BTNMENU);Client.Core.DomJs.Add(Client.Controls.ControlHeader.RIGHT,Client.Controls.ControlHeader.BTNHELP);Client.Core.DomJs.Add(Client.Controls.ControlHeader.RIGHT,Client.Controls.ControlHeader.BTNLOGIN);Client.Core.DomJs.Add(this,Client.Controls.ControlHeader.LEFT);Client.Core.DomJs.Add(this,Client.Controls.ControlHeader.NOTIFY);Client.Core.DomJs.Add(this,Client.Controls.ControlHeader.RIGHT);clearInterval(Client.Controls.ControlHeader.INTERVAL);Client.Controls.ControlHeader.Notify();return;default:return}}},arguments);$asyncBody()}),0)}}});Bridge.define("Client.Controls.ControlIcon",{inherits:[Client.Core.Control],ctors:{ctor:function(s){this.$initialize();Client.Core.Control.$ctor1.call(this,"i");Client.Core.DomJs.Class(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.FontSizeLL(this)),[s])}}});Bridge.define("Client.Controls.ControlIconButton",{inherits:[Client.Core.Control],ctors:{ctor:function(s){this.$initialize();Client.Core.Control.$ctor1.call(this,"button");Client.Core.DomJs.Add(this,Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.FontSizeLL(new Client.Controls.ControlIcon(s))))}}});Bridge.define("Client.Controls.ControlImage",{inherits:[Client.Core.Control],ctors:{ctor:function(s){this.$initialize();Client.Core.Control.$ctor1.call(this,"img");this.DIV.setAttribute("src",s)}},methods:{Width$1:function(s){return this.DIV.style.width=s,this}}});Bridge.define("Client.Controls.ControlList",{inherits:[Client.Core.Control],fields:{CAPTION:null,CAPTION_content:null},ctors:{init:function(){this.CAPTION=Client.Core.ControlStyles_GENERATED.ControllistCaption(new Client.Core.Control.ctor);this.CAPTION_content=Client.Core.ControlStyles_GENERATED.ControllistCaptionContent(new Client.Core.Control.ctor)}},methods:{Action$1:function(a){return a(this),this},AddRow:function(a){var controllistRow=Bridge.cast(Client.Core.ControlStyles_GENERATED.ControllistRow(new Client.Controls.ControlList.ControlListRow),Client.Controls.ControlList.ControlListRow);return Bridge.staticEquals(a,null)?null:a(controllistRow),Client.Core.DomJs.Add(this,controllistRow),this},AddRowHeader:function(a){var controllistRow=Bridge.cast(Client.Core.ControlStyles_GENERATED.ControllistRowHeader(new Client.Controls.ControlList.ControlListRow),Client.Controls.ControlList.ControlListRow);return Bridge.staticEquals(a,null)?null:a(controllistRow),Client.Core.DomJs.Add(this,controllistRow),this},Caption:function(c){return c==null?this:(Client.Core.DomJs.Add(this.CAPTION_content,c),this)},OnRender:function(){Client.Core.Control.prototype.OnRender.call(this);this.CAPTION_content.DIV.childNodes.length===0&&this.CAPTION_content.Remove()},Fetch:function(T,api,data,a){return setTimeout(Bridge.fn.bind(this,function(t){var $step=0,$task1,$taskResult1,t,$jumpFromFinally,stopwatch,list,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:stopwatch=new System.Diagnostics.Stopwatch;stopwatch.start();$task1=Client.Core.Api.GetAsync$1(api,data);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();list=Client.Core.Serialization.Deserialize(System.Array.type(T),$taskResult1);stopwatch.stop();this.Caption(Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.FontSizeSS((new Client.Core.Control.ctor).Content(list.length+" record/s caricati in "+(Bridge.toString(stopwatch.milliseconds())||"")+" millisecondi")))));a(this,list);return;default:return}}},arguments);$asyncBody()}),0),this},OnLoad:function(){Client.Core.Control.prototype.OnLoad.call(this);Client.Core.DomJs.Add(this.CAPTION,this.CAPTION_content);Client.Core.DomJs.Add(this,this.CAPTION)}}});Bridge.define("Client.Controls.ControlList.ControlListRow",{inherits:[Client.Core.Control],$kind:"nested class",methods:{AddCell$1:function(s){return this.AddCell$2(s!=null&&System.Nullable.getValue(s)?"sÃ¬":"no")},AddCell$2:function(o){var $t,content=Client.Core.ControlStyles_GENERATED.ControllistCell(new Client.Core.Control.ctor).Content(($t=o!=null?Bridge.toString(o).toLowerCase():null,$t!=null?$t:"--"));return Client.Core.DomJs.Add(this,content),content},AddCell:function(c){var control=Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.ControllistCell(new Client.Core.Control.ctor),c);return Client.Core.DomJs.Add(this,control),control},AddCellHeader:function(s){s===void 0&&(s="");var control=Client.Core.ControlStyles_GENERATED.ControllistCellHeader(new Client.Core.Control.ctor).Content(s);return Client.Core.DomJs.Add(this,control),control},AddCellHeaderIndex:function(){return Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.Des(this.AddCellHeader("#").Width("1%")))},AddCellID:function(i){return this.AddCell$2(System.String.alignString(Bridge.toString(i),4,48))},AddCellIndex:function(i){return Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.Des(this.AddCell$2((System.String.alignString(Bridge.toString(i),3,48)||"")+".").Width("1%")))}}});Bridge.define("Client.Controls.ControlMask",{inherits:[Client.Core.Control],fields:{ONREMOVE:null},methods:{OnRemove:function(fn){return this.ONREMOVE=fn,this},ShowHide:function(){var $t;if(this.SELECTORINSTANCE!=null){($t=this.SELECTORINSTANCE)!=null?$t.remove():null;return}Client.Core.DomJs.Add$3(this.BODY,this)},Show:function(){if(this.SELECTORINSTANCE==null){Client.Core.DomJs.Add$3(this.BODY,this);return}},Hide:function(){var $t;($t=this.SELECTORINSTANCE)!=null?$t.remove():null},OnLoad:function(){Client.Core.Control.prototype.OnLoad.call(this);this.Click(Bridge.fn.bind(this,function(){this.Remove();Bridge.staticEquals(this.ONREMOVE,null)?null:this.ONREMOVE()}))}}});Bridge.define("Client.Controls.ControlModal",{inherits:[Client.Core.Control],fields:{BOTTOM:null,TOP:null},ctors:{init:function(){this.BOTTOM=new Client.Core.Control.ctor;this.TOP=new Client.Core.Control.ctor}},methods:{Hide:function(){var $t;($t=this.SELECTORINSTANCE)!=null?$t.remove():null;(new Client.Controls.ControlMask).Hide()},Show:function(title,content,content2,buttons){buttons===void 0&&(buttons=[]);Client.Core.DomJs.Add(this.TOP,Client.Core.ControlStyles_GENERATED.ControlmodalTitle((new Client.Core.Control.ctor).Content(title)));Client.Core.DomJs.Add(this.TOP,Client.Core.ControlStyles_GENERATED.ControlmodalContent((new Client.Core.Control.ctor).Content(content)));Client.Core.DomJs.Add(this.TOP,Client.Core.ControlStyles_GENERATED.ControlmodalContent2((new Client.Core.Control.ctor).Content(content2)));buttons.forEach(Bridge.fn.bind(this,function(b){Client.Core.DomJs.Add(this.BOTTOM,Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor).Content("â "+(b.key||"")).ClickMob$1(Bridge.fn.bind(this,function(ev){var $t;ev.stopImmediatePropagation();ev.preventDefault();ev.stopPropagation();Bridge.staticEquals($t=b.value,null)?null:$t();this.Hide()})))}));this.ClickMob$1(Bridge.fn.bind(this,function(ev){this.Hide()}));Client.Core.ControlStyles_GENERATED.ControlmodalTop(this.TOP);Client.Core.ControlStyles_GENERATED.ControlmodalBottom(this.BOTTOM);Client.Core.DomJs.Add(this,this.TOP);Client.Core.DomJs.Add(this,this.BOTTOM);Client.Core.DomJs.Add$3(this.BODY,this);Client.Core.DomJs.Class(this,["animated slideInDown"]);Client.Core.ControlStyles_GENERATED.AnimationDuration300(this);(new Client.Controls.ControlMask).OnRemove(Bridge.fn.cacheBind(this,this.Hide)).Show()},OnLoad:function(){Client.Core.Control.prototype.OnLoad.call(this)}}});Bridge.define("Client.Controls.ControlNavigator",{inherits:[Client.Core.Control],fields:{LEFT:null,LEFT1:null,LEFT2:null,LEFTARROW:null},ctors:{init:function(){this.LEFT=Client.Core.ControlStyles_GENERATED.JustifyContentCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.F00(new Client.Core.Control.ctor))));this.LEFT1=Client.Core.ControlStyles_GENERATED.Uppercase(new Client.Core.Control.ctor);this.LEFT2=Client.Core.ControlStyles_GENERATED.FontSizeS(Client.Core.ControlStyles_GENERATED.Italic(Client.Core.ControlStyles_GENERATED.Capitalize(new Client.Core.Control.ctor)));this.LEFTARROW=new Client.Core.Control.ctor}},methods:{Left:function(s){return s==null||Bridge.referenceEquals(s!=null?s.toUpperCase():null,"HOME")?(Client.Core.ControlStyles_GENERATED.None(this),this):(Client.Core.DomJs.ClassRemove(this,["none"]),this.LEFT1.Content(s!=null?s.toLowerCase():null),this)},Left2:function(s){return s==null||Bridge.referenceEquals(s!=null?s.toUpperCase():null,"HOME")?this:(this.LEFTARROW.Content(s!=null?"&nbsp;â&nbsp;":null),this.LEFT2.Content(s!=null?s.toLowerCase():null),this)},OnRender:function(){Client.Core.Control.prototype.OnRender.call(this);Client.Core.DomJs.Add(this.LEFT,this.LEFT1);Client.Core.DomJs.Add(this.LEFT,this.LEFT2);Client.Core.DomJs.Add(this,this.LEFT)},OnLoad:function(){Client.Core.ControlStyles_GENERATED.F00(this);Client.Core.ControlStyles_GENERATED.JustifyContentSpaceBetween(this);Client.Core.ControlStyles_GENERATED.Padding(this);Client.Core.ControlStyles_GENERATED.AlignContentCenter(this);Client.Core.ControlStyles_GENERATED.AlignItemsCenter(this)}}});Bridge.define("Client.Controls.ControlNotifications",{inherits:[Client.Core.Control],methods:{Notify:function(s,fn){if(fn===void 0&&(fn=null),!System.String.isNullOrEmpty(s)){this.SELECTORINSTANCE==null&&(Client.Core.DomJs.Add$3(this.BODY,this),Client.Core.ControlStyles_GENERATED.Mob(this));var controlnotifications_item=Client.Core.ControlStyles_GENERATED.ControlnotificationsItem(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.AnimationDuration300((new Client.Core.Control.ctor).Content(s)).Click(fn),!Bridge.staticEquals(fn,null)));Client.Core.DomJs.Add$3(this.SELECTORINSTANCE,controlnotifications_item);Client.Core.DomJs.Class(controlnotifications_item,["animated slideInLeft"]);setTimeout(function(w){Client.Core.DomJs.Class(controlnotifications_item,["animated slideOutRight"]);setTimeout(function(w1){controlnotifications_item.Remove()},300)},4e3)}}}});Bridge.define("Client.Controls.ControlRating",{inherits:[Client.Core.Control],ctors:{ctor:function(){this.$initialize();Client.Core.Control.ctor.call(this);Client.Core.DomJs.Add(Client.Core.DomJs.Add$1(this,System.Linq.Enumerable.from(System.Array.init(4,0,System.Int32)).select(function(s){return Client.Core.ControlStyles_GENERATED.Accent(Client.Core.ControlStyles_GENERATED.FontSizeSImp(new Client.Controls.ControlIcon("fas fa-star")))}).ToArray(Client.Core.Control)),Client.Core.ControlStyles_GENERATED.Accent(Client.Core.ControlStyles_GENERATED.FontSizeSImp(new Client.Controls.ControlIcon("fas fa-star-half"))))}}});Bridge.define("Client.Controls.ControlStickyButton",{inherits:[Client.Core.Control],ctors:{ctor:function(s){this.$initialize();Client.Core.Control.ctor.call(this);s!=null&&(Client.Core.DomJs.Add(this,new Client.Controls.ControlIcon(s)),Client.Core.DomJs.Add$3(this.BODY,this),Client.Core.ControlStyles_GENERATED.Mob(this))}}});Bridge.define("Client.Controls.ControlStickyButtonLeft",{inherits:[Client.Core.Control],ctors:{ctor:function(s){var $t;(this.$initialize(),Client.Core.Control.ctor.call(this),($t=this.SELECTORINSTANCE)!=null?$t.remove():null,s!=null)&&(Client.Core.DomJs.Add(this,new Client.Controls.ControlIcon(s)),Client.Core.DomJs.Add$3(this.BODY,this),Client.Core.ControlStyles_GENERATED.Mob(this))}}});Bridge.define("Client.Controls.ControlTabs",{inherits:[Client.Core.Control],fields:{TABS:null,ONCHANGE:null},ctors:{init:function(){this.TABS=new(System.Collections.Generic.List$1(System.String).ctor)}},methods:{AddButton:function(s,fn,active){active===void 0&&(active=!1);this.TABS.add(s);var link=new Client.Core.Control.$ctor1("a");return link.Content(s),active&&link.DIV.setAttribute("active","1"),link.Click(Bridge.fn.bind(this,function(){(Bridge.staticEquals(this.ONCHANGE,null)||this.ONCHANGE())&&(Bridge.staticEquals(fn,null)?null:fn())})),Client.Core.DomJs.Add(this,link),this}}});Bridge.define("Client.Controls.ControlToolbar",{inherits:[Client.Core.Control],fields:{RIGHT:null,LEFT:null},ctors:{init:function(){this.RIGHT=new Client.Core.Control.ctor;this.LEFT=new Client.Core.Control.ctor}},methods:{Left$1:function(c){return Client.Core.DomJs.Add$2(this.LEFT,c),this},Left:function(c){return Client.Core.DomJs.Add(this.LEFT,c),this},LeftIcon:function(s,a){return a===void 0&&(a=null),this.Left(Client.Core.DomJs.Class(Client.Core.ControlStyles_GENERATED.PaddingRight(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.FontSizeLL(new Client.Core.Control.$ctor1("i")))),[s]).Click(a)),this},Clear:function(){return this.RIGHT.Clear(),this.LEFT.Clear(),this},Reload:function(a){return a===void 0&&(a=null),this.Left(Client.Core.ControlStyles_GENERATED.FontSizeLL(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.DomJs.Class(new Client.Core.Control.$ctor1("i"),["fas","fa-sync-alt"]))).Click(a||Client.Core.PageJs.Reload)),this},Right:function(c){return Client.Core.DomJs.Add(this.RIGHT,c),this},Right$1:function(c){return Client.Core.DomJs.Add$2(this.RIGHT,c),this},RightIcon:function(s,a){return a===void 0&&(a=null),this.Right(Client.Core.DomJs.Class(Client.Core.ControlStyles_GENERATED.PaddingRight(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.FontSizeLL(new Client.Core.Control.$ctor1("i")))),[s]).Click(a)),this},Title:function(s){return Client.Core.DomJs.Add(this.LEFT,Client.Core.ControlStyles_GENERATED.FontSizeLL(Client.Core.ControlStyles_GENERATED.Light(Client.Core.ControlStyles_GENERATED.Capitalize((new Client.Core.Control.ctor).Content(s))))),this},OnLoad:function(){Client.Core.Control.prototype.OnLoad.call(this);Client.Core.ControlStyles_GENERATED.ControltoolbarLeft(this.LEFT);Client.Core.ControlStyles_GENERATED.ControltoolbarRight(this.RIGHT);Client.Core.ControlStyles_GENERATED.Des(this.LEFT);Client.Core.DomJs.Add(this,this.LEFT);Client.Core.DomJs.Add(this,this.RIGHT)}}});Bridge.define("Client.Module.ModToolbar",{inherits:[Client.Module.Moldule],fields:{TOOLBAR:null,DIVCONTENT:null},ctors:{init:function(){this.TOOLBAR=new Client.Controls.ControlToolbar;this.DIVCONTENT=new Client.Core.Control.ctor},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:Client.Core.ControlStyles_GENERATED.W100(this.DIVCONTENT);Client.Core.DomJs.Add(this.DIVCONTENT,this.TOOLBAR);$task1=this.OnRender();$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$tcs.setResult(this.DIVCONTENT.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnRender:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModClienti",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null,TOOLBAR:null,CONTROLLIST:null},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor;this.TOOLBAR=new Client.Controls.ControlToolbar},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:Client.Core.ControlStyles_GENERATED.W100(this.CONTAINER);Client.Core.DomJs.Add(this.CONTAINER,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.CONTAINER,this.CONTROLLIST.Caption(Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/cliente",{ID:0})}).Content("registra nuovo cliente"))))))).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("nome")}).Fetch(Client.Model.CLIENTI,"DbClientiGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.NAME)));row.Click(function(){Client.Core.PageJs.Redirect("/cliente",{ID:x.ID})});index++})})}))}}});Bridge.define("Client.Module.ModCourseScheduling",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null,select_active:null,TOOLBAR:null,CONTROLLIST:null},props:{ISADMIN:{get:function(){return this.PROFILE==="ADMINISTRATOR"||this.PROFILE==="STAFF"}},PROFILE:{get:function(){return Client.Core.Types.ToEnum(Client.Model.Enums.EPROFILE,Client.App.PEOPLE.EPROFILE)}}},ctors:{init:function(){this.CONTAINER=document.createElement("div");this.select_active=document.createElement("select");this.TOOLBAR=new Client.Controls.ControlToolbar;this.CONTROLLIST=new Client.Controls.ControlList},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.EACTIVE)).ForEach(Bridge.fn.bind(this,function(e){var $t,$t1;this.select_active.appendChild(($t=document.createElement("option"),$t.text=e!=null?e.toUpperCase():null,$t.value=e,$t.selected=Bridge.referenceEquals(e,($t1=this.HASHDATA)!=null?$t1.active:null),$t))}));this.select_active.onchange=Bridge.fn.bind(this,function(ev){Client.Core.PageJs.Hash(this.GetFilteredHash())});this.ISADMIN&&this.TOOLBAR.Right$1(this.select_active);this.ISADMIN;this.CONTROLLIST_refresh();this.CONTAINER.classList.add("w100");Client.Core.DomJs.Add$3(this.CONTAINER,this.TOOLBAR);Client.Core.DomJs.Add$3(this.CONTAINER,this.CONTROLLIST);$tcs.setResult(this.CONTAINER);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add$3(this.CONTAINER,this.CONTROLLIST.Caption(this.ISADMIN?Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/corso",{ID:0})}).Content("registra un nuovo corso")))))):null).AddRowHeader(function(row){Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeaderIndex());row.AddCellHeader("corso");row.AddCellHeader("trainer");row.AddCellHeader("giorno");Client.Core.ControlStyles_GENERATED.Aright(row.AddCellHeader("ora"))}).Fetch(Client.Model.COURSE_DATA,"DbCourseSchedulingGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){Client.Core.ControlStyles_GENERATED.Des(row.AddCellIndex(index));row.AddCell$2(x.RO_COURSE_NAME);Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.RO_TRAINER_NAME));row.AddCell$2(Client.Core.Localization.T(x.DAY));Client.Core.ControlStyles_GENERATED.Aright(row.AddCell$2(x.STIME));row.Click(function(){Client.Core.PageJs.Redirect("/corso",{ID:x.ID})});index++})})}))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({active:this.select_active.value})}}});Bridge.define("Client.Module.ModForm",{inherits:[Client.Module.Moldule],statics:{methods:{SelectPopulate:function(value,values,select,required,selected_values){var $t,index;required||select.options.add(($t=document.createElement("option"),$t.value="",$t.text="",$t));index=0;selected_values!=null?values!=null?values.ForEach(function(item){var $t1,isSelected=!1;selected_values.ForEach(function(s){isSelected||(isSelected=Bridge.referenceEquals(Bridge.toString(s),Bridge.toString(item.VALUE)))});select.options.add(($t1=document.createElement("option"),$t1.value=item.VALUE,$t1.text=item.TEXT!=null?item.TEXT.toUpperCase():null,$t1.selected=isSelected,$t1));index++}):null:values!=null?values.ForEach(function(item){var $t1;select.options.add(($t1=document.createElement("option"),$t1.value=item.VALUE,$t1.text=item.TEXT!=null?item.TEXT.toUpperCase():null,$t1.selected=value==null&&index===0||Bridge.referenceEquals(item.VALUE!=null?Bridge.toString(item.VALUE):null,value!=null?Bridge.toString(value):null),$t1));index++}):null;select.options.length>20?select.size=20:select.options.length>10&&(select.size=10)}}},fields:{SELECTACTIVE:null,CONTROLTAB:null,TOOLBAR:null,DIVCONTENT:null,COMMANDS:null,GROUPS:null,FORM:null,ISDIRTY:!1,DEFAULTGROUP:null},ctors:{init:function(){this.SELECTACTIVE=document.createElement("select");this.CONTROLTAB=new Client.Controls.ControlTabs;this.TOOLBAR=new Client.Controls.ControlToolbar;this.COMMANDS=new Client.Core.Control.ctor;this.GROUPS=new(System.Collections.Generic.Dictionary$2(System.String,System.String))},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$task2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,hash,$t,index,group,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:hash=Client.Module.Moldule.GetHash();this.SELECTACTIVE.options.add(($t=document.createElement("option"),$t.text="attivo".toUpperCase(),$t.value="true",$t));this.SELECTACTIVE.options.add(($t=document.createElement("option"),$t.text="non attivo".toUpperCase(),$t.value="false",$t));this.SELECTACTIVE.onchange=Bridge.fn.bind(this,function(ev){this.OnActivate(System.Convert.toBoolean(this.SELECTACTIVE.value))});this.FORM=document.createElement("form");this.FORM.classList.add("mod-form");this.FORM.setAttribute("onsubmit","return false");this.DIVCONTENT=document.createElement("div");Client.Core.DomJs.Add$3(this.DIVCONTENT,this.TOOLBAR);$task1=this.OnAdd();$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();System.String.isNullOrEmpty(hash)&&(hash=System.Linq.Enumerable.from(this.GROUPS).first().key);this.GROUPS.containsKey(hash)||this.TOOLBAR.DIV.remove();Client.Core.DomJs.Add$3(this.FORM,this.CONTROLTAB);this.FORM.appendChild(this.DIVCONTENT);index=0;$t=Bridge.getEnumerator(this.GROUPS);try{while($t.moveNext())group={v:$t.Current},this.CONTROLTAB.AddButton(group.v.key,function($me,group){return Bridge.fn.bind($me,function(){(!this.ISDIRTY||window.confirm("Scartare le modifiche?"))&&Client.Core.PageJs.Hash(group.v.key)})}(this,group),Bridge.referenceEquals(hash,group.v.key)),index++}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.TOOLBAR.Right(this.COMMANDS);$task2=this.OnAddTabs(hash);$step=2;$task2.continueWith($asyncBody);return;case 2:$task2.getAwaitedResult();Client.Core.ControlStyles_GENERATED.FormCommands(this.COMMANDS);Client.Core.DomJs.Add(this.COMMANDS,new Client.Controls.ControlButton("undo","fas fa-undo").Click(function(){history.back()}));this.OnAddSave();this.OnAddDelete();Client.Core.DomJs.Add$2(this.COMMANDS,this.SELECTACTIVE);$tcs.setResult(this.FORM);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnAddSave:function(){Client.Core.DomJs.Add(this.COMMANDS,Client.Core.ControlStyles_GENERATED.AnimationDuration2000(Client.Core.DomJs.Class(new Client.Controls.ControlButton("salva","fas fa-save"),["animated infinite flash"])).Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3,5],$step);switch($step){case 0:if(this.FORM.reportValidity()){$step=1;continue}$step=5;continue;case 1:$task1=this.OnDbSave();$step=2;$task1.continueWith($asyncBody,!0);return;case 2:if($taskResult1=$task1.getAwaitedResult(),$taskResult1>=1){$step=3;continue}$step=4;continue;case 3:history.back();$step=4;continue;case 5:return;default:return}}},arguments);$asyncBody()})))},OnAddDelete:function(){Client.Core.DomJs.Add(this.COMMANDS,new Client.Controls.ControlButton("elimina","fas fa-trash").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:if(!window.confirm("Sei sicuro?\r\nQuesta operazione non Ã¨ reversibile e cancellerÃ  tutti i dati relativi al record"))return;$task1=this.OnDbDelete();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:if($taskResult1=$task1.getAwaitedResult(),$taskResult1>=1){$step=2;continue}$step=3;continue;case 2:history.back();$step=3;continue;case 3:return;default:return}}},arguments);$asyncBody()})))},Add:function(label,value,type,values,api,onchange,r,max,pattern,maxlength,enabled,group,multipleSelect,select_values){var hash,html_element;type===void 0&&(type=null);values===void 0&&(values=null);api===void 0&&(api=null);onchange===void 0&&(onchange=null);r===void 0&&(r=!0);max===void 0&&(max=null);pattern===void 0&&(pattern=null);maxlength===void 0&&(maxlength=0);enabled===void 0&&(enabled=!0);group===void 0&&(group="");multipleSelect===void 0&&(multipleSelect=!1);select_values===void 0&&(select_values=null);var enumType=null,div_row=document.createElement("div"),div_label=document.createElement("div"),input=document.createElement("input"),textarea=document.createElement("textarea"),select=document.createElement("select");(!(Bridge.referenceEquals(type,System.Boolean)|Bridge.referenceEquals(type,System.Boolean))||(r=!1),Bridge.Reflection.isEnum(type)&&(enumType=type,type=Client.Module.ModForm.TypeSelect),hash=Client.Module.Moldule.GetHash(),this.DEFAULTGROUP==null&&(this.DEFAULTGROUP=group),System.String.isNullOrEmpty(hash)&&(hash=this.DEFAULTGROUP),group==null||this.GROUPS.containsKey(group)||this.GROUPS.add(group,group),Bridge.referenceEquals(group,hash))&&(enumType!=null&&(values=System.Linq.Enumerable.from(Client.Core.Collections.ToList(System.Enum.getValues(enumType))).select(function(t){var $t;return $t=new Client.Module.ModForm.TypeSelect,$t.TEXT=Client.Core.Localization.T(t),$t.VALUE=t,$t}).toList(Client.Module.ModForm.TypeSelect)),div_row.classList.add("mod-form-row"),div_row.setAttribute("group",group),div_row.appendChild(div_label),Bridge.staticEquals(onchange,null)?(input.readOnly=!0,select.setAttribute("disabled","disabled")):(input.onchange=Bridge.fn.bind(this,function(ev){var $t,$t1,$t2;if(this.ISDIRTY=!0,Bridge.referenceEquals(type,System.Boolean))Bridge.staticEquals(onchange,null)?null:onchange(System.Boolean.toString(input.checked));else{if(Bridge.referenceEquals(type,System.DateTime)||Bridge.referenceEquals(type,System.Nullable$1(System.DateTime)))try{System.String.isNullOrEmpty(input.value)?(($t2=input.parentNode)!=null?$t2.querySelector(".mod-form-date-label"):null).innerHTML="":(($t=input.parentNode)!=null?$t.querySelector(".mod-form-date-label"):null).innerHTML=($t1=input.value)!=null?Client.Core.MomentJs.MomentFromNow($t1):null}catch(e){e=System.Exception.create(e)}System.String.isNullOrEmpty(input.value)?Bridge.staticEquals(onchange,null)?null:onchange(null):Bridge.staticEquals(onchange,null)?null:onchange(input.value)}}),select.onchange=Bridge.fn.bind(this,function(ev){var tvalues,i;if(this.ISDIRTY=!0,multipleSelect){for(tvalues="",i=0;;i++){if(select.selectedOptions[i]==null)break;tvalues=(tvalues||"")+((select.selectedOptions[i].value||"")+"|"||"")}Bridge.staticEquals(onchange,null)?null:onchange(System.String.isNullOrEmpty(select.value)?null:System.String.trim(tvalues,[124]))}else Bridge.staticEquals(onchange,null)?null:onchange(System.String.isNullOrEmpty(select.value)?null:select.value)})),max!=null&&(input.max=Bridge.toString(System.Nullable.getValue(max))),input.required=r,select.required=r,textarea.required=r,maxlength>0&&(input.maxLength=maxlength),enabled||(input.disabled=!0,select.disabled=!0,textarea.disabled=!0),pattern!=null&&(input.pattern=pattern),Bridge.referenceEquals(type,System.DateTime)||Bridge.referenceEquals(type,System.Nullable$1(System.DateTime))?(input.value=Client.Core.MomentJs.MomentFormat(value,"YYYY-MM-DD"),input.type="date",div_row.appendChild(input),value!=null&&Client.Core.DomJs.Add$3(div_row,Client.Core.ControlStyles_GENERATED.ModFormDateLabel(new Client.Core.Control.ctor).Content(Client.Core.MomentJs.MomentFromNow(value)))):Bridge.referenceEquals(type,Client.Module.ModForm.TypeTime)?(input.value=Bridge.toString(value),input.type="time",div_row.appendChild(input)):Bridge.referenceEquals(type,System.Int32)||Bridge.referenceEquals(type,System.Nullable$1(System.Int32))?(input.value=value!=null?value!=null?Bridge.toString(value):null:Bridge.toString(0),input.type="number",div_row.appendChild(input)):Bridge.referenceEquals(type,System.Double)||Bridge.referenceEquals(type,System.Nullable$1(System.Double))?(input.value=value!=null?Bridge.toString(value):null,input.type="number",input.step="0.01",div_row.appendChild(input)):Bridge.referenceEquals(type,System.Boolean)?(input.type="checkbox",input.checked=System.Convert.toBoolean(value),div_row.appendChild(input)):Bridge.referenceEquals(type,Client.Module.ModForm.TypeEmail)?(input.type="email",input.value=value!=null?Bridge.toString(value):null,div_row.appendChild(input)):Bridge.referenceEquals(type,Client.Module.ModForm.TypeRichText)?(div_row.appendChild(textarea),div_row.style.width="auto",textarea.value=value!=null?Bridge.toString(value):null,$(textarea).richText({fonts:!1,heading:!1,fontColor:!1,imageUpload:!1,fileUpload:!1,videoEmbed:!1,urls:!1}),html_element=div_row.querySelector(".richText-editor"),html_element.oninput=Bridge.fn.bind(this,function(ev){this.ISDIRTY=!0;Bridge.staticEquals(onchange,null)?null:onchange(System.String.isNullOrEmpty(html_element.innerHTML)?null:html_element.innerHTML)})):Bridge.referenceEquals(type,Client.Module.ModForm.TypePassword)?(input.type="password",input.value=value!=null?Bridge.toString(value):null,div_row.appendChild(input)):Bridge.referenceEquals(type,Client.Module.ModForm.TypeSelect)?(select.multiple=multipleSelect,api==null?(Client.Module.ModForm.SelectPopulate(value,values,select,r,select_values),value==null&&(Bridge.staticEquals(onchange,null)?null:onchange(System.String.isNullOrEmpty(select.value)?null:select.value),select.selectedIndex=0)):setTimeout(Bridge.fn.bind(this,function(a){var $step=0,$task1,$taskResult1,a,$jumpFromFinally,ser,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync(api);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();ser=$taskResult1;values=System.Linq.Enumerable.from(System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(System.Object),ser)).toList(System.Object)).select(function(t){var $t;return $t=new Client.Module.ModForm.TypeSelect,$t.TEXT=t.NAME,$t.VALUE=t.ID,$t}).toList(Client.Module.ModForm.TypeSelect);Client.Module.ModForm.SelectPopulate(value,values,select,r,select_values);value==null&&(Bridge.staticEquals(onchange,null)?null:onchange(System.String.isNullOrEmpty(select.value)?null:select.value),select.selectedIndex=0);return;default:return}}},arguments);$asyncBody()}),0),div_row.appendChild(select)):(input.type="text",value!=null&&(input.value=value!=null?Bridge.toString(value):null),div_row.appendChild(input)),div_label.classList.add("mod-form-label"),div_label.innerHTML=label.toLowerCase(),this.DIVCONTENT.appendChild(div_row))},OnActivate:function(v){},OnAdd:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnAddTabs:function(hash){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:throw new System.Exception("OnDbDelete");$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:throw new System.Exception("OnDbSave");$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModHome",{inherits:[Client.Module.Moldule],ctors:{ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,div,div_login,div_image,div_text_2,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:div=document.createElement("div");div.classList.add("w100","flex-stretch");div_login=document.createElement("div");div_login.innerHTML="entra ora";Client.Core.DomJs.Class$1(div_login,["btn-transparent","animated","flipInX"]);div_image=document.createElement("div");div_image.style.backgroundImage="url('/Images/business-3190209_1920.jpg')";div_image.classList.add("img-background");div_text_2=document.createElement("div");div_text_2.innerHTML='"Gestione Scadenze STUDIOMAR"';div_text_2.classList.add("img-text-1");div_image.appendChild(div_text_2);div.appendChild(div_image);$task1=System.Threading.Tasks.Task.fromResult(div,HTMLDivElement);$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult($taskResult1);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModLogin",{inherits:[Client.Module.Moldule],ctors:{ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx);window.location.href="/Login.aspx"}}});Bridge.define("Client.Module.ModMe",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$task3,$taskResult3,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,me,people,avatar,$t,$t1,$t2,$t3,courses,card,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4,5],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbUserGetByGUID",Client.Core.Serialization.Serialize(Client.App.TOKEN));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();me=$taskResult1;people=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE),me).getItem(0);Client.Core.ControlStyles_GENERATED.AlignItemsCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.F10(this.CONTAINER)));avatar=new Client.Core.Control.$ctor1("img");avatar.DIV.style.backgroundImage="url('"+((($t=people.PROFILE_PIC)!=null?$t.toLowerCase():null)||"")+"')";Client.Core.DomJs.Add(this.CONTAINER,Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.MeProfileHeader(new Client.Core.Control.ctor),Client.Core.ControlStyles_GENERATED.AvatarMe(avatar)),Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor).Content("â modifica immagine profilo").Click(function(){Client.Core.PageJs.Redirect("/foto",{})})),Bridge.referenceEquals(Client.App.PEOPLE.EPROFILE,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))||Bridge.referenceEquals(Client.App.PEOPLE.EPROFILE,System.Enum.toString(Client.Model.Enums.EPROFILE,"TRAINER"))||Bridge.referenceEquals(Client.App.PEOPLE.EPROFILE,System.Enum.toString(Client.Model.Enums.EPROFILE,"STAFF"))?Client.Core.ControlStyles_GENERATED.MarginTopMin(Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor)).Content("â modifica i tuoi dati personali").Click(function(){Client.Core.PageJs.Redirect("/utente",{GUID:Client.App.PEOPLE.GUID})}):null));this.Title("anagrafica");this.Section("nome",((people.FIRSTNAME||"")+" "+(people.LASTNAME||"")).toLowerCase(),!0);this.Section("profilo",($t1=people.EPROFILE)!=null?Client.Core.Localization.T($t1).toLowerCase():null);this.Section("telefono",($t2=people.PHONE_NUMBER)!=null?$t2.toLowerCase():null);Client.Core.DomJs.Add(this.CONTAINER,Client.Core.ControlStyles_GENERATED.MarginBottomMin(Client.Core.ControlStyles_GENERATED.Z1Bottom(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Acenter(Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.W100(new Client.Core.Control.ctor))),Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor))).Content("â cambia password").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,pwd,pwd2,$t3,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(pwd=prompt("inserisci la nuova passowrd"),pwd==null)return;if(pwd2=prompt("conferma la nuova passowrd"),pwd2==null)return;if(!Bridge.referenceEquals(pwd2,pwd))return;$task1=Client.Core.Api.GetAsync$1("DbUserChangePassword",Client.Core.Serialization.Serialize(($t3=new Client.Model.PEOPLE,$t3.PASSWORD=pwd,$t3)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.App.Notify("cambio password avvenuto correttamente");return;default:return}}},arguments);$asyncBody()}))))));this.Title("il tuo abbonamento");Bridge.equals(people.SUBSCRIPTION_END,null)||this.Section("validdo fino",Client.Core.MomentJs.MomentFormat(people.SUBSCRIPTION_END,"LL"),!0);people.ESUBSCRIPTIONTYPE!=null&&this.Section("tipologia abbonamento",($t3=people.ESUBSCRIPTIONTYPE,$t3!=null?$t3:System.Enum.toString(Client.Model.Enums.ESUBSCRIPTIONTYPE,"NESSUNO")));this.Section("i tuoi ingressi (CROSSFTI) a disposizione",Bridge.toString(people.ACCESSES_CROSSFIT));this.Section("i tuoi ingressi (CORSI) a disposizione",Bridge.toString(people.ACCESSES_COURSE));$task2=Client.Core.Api.GetAsync$1("DbCourseGetByPeopleID",Client.Core.Serialization.Serialize(people.ID));$step=2;$task2.continueWith($asyncBody);return;case 2:if($taskResult2=$task2.getAwaitedResult(),courses=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(System.Object),$taskResult2),courses.Count>0&&(this.Title("i tuoi corsi"),System.Linq.Enumerable.from(courses).toList(System.Object).ForEach(Bridge.fn.bind(this,function(o){this.Course(o.COURSE_NAME,(Client.Core.MomentJs.MomentFormat(Bridge.cast(o.COURSE_DATE,System.String),"dddd D MMMM")||"")+" alle ore "+(Client.Core.MomentJs.MomentFormat(Bridge.cast(o.COURSE_DATE,System.String),"HH:mm")||""))}))),Client.Core.DomJs.Add(this.CONTAINER,Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Acenter(Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.W100(new Client.Core.Control.ctor))),Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor))).Content("â prenota corso").Click(function(){Client.Core.PageJs.Redirect("/corsi")}))),people.CARD_ID!=null){$step=3;continue}$step=5;continue;case 3:this.Title("il tuo allenamento");$task3=Client.Core.Api.GetAsync$1("DbCardGetByID",Client.Core.Serialization.Serialize({ID:System.Nullable.getValue(people.CARD_ID)}));$step=4;$task3.continueWith($asyncBody);return;case 4:$taskResult3=$task3.getAwaitedResult();card=System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CARD),$taskResult3)).firstOrDefault(null,null);Client.Core.ControlStyles_GENERATED.Pointer(this.Section("la tua scheda",card.NAME,!1)).Click(function(){Client.Core.PageJs.Redirect("/scheda",{ID:card.ID})});Client.Core.DomJs.Add(this.CONTAINER,Client.Core.ControlStyles_GENERATED.MarginBottomMin(Client.Core.ControlStyles_GENERATED.Z1Bottom(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Acenter(Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.W100(new Client.Core.Control.ctor))),Client.Core.ControlStyles_GENERATED.BgWhite(Client.Core.ControlStyles_GENERATED.BtnFlat(new Client.Core.Control.ctor)).Content("â vai alla tua scheda").Click(Bridge.fn.bind(this,function(){var $step=0,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:Client.Core.PageJs.Redirect("/scheda",{ID:card.ID});return;default:return}}},arguments);$asyncBody()}))))));$step=5;continue;case 5:$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Course:function(title,value){Client.Core.DomJs.Add(this.CONTAINER,Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.AlignItemsCenter(Client.Core.ControlStyles_GENERATED.JustifyContentCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.W100(Client.Core.ControlStyles_GENERATED.F00(Client.Core.ControlStyles_GENERATED.BgWhite(new Client.Core.Control.ctor))))))),Client.Core.ControlStyles_GENERATED.FontSizeM(Client.Core.ControlStyles_GENERATED.Opaque7(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.Uppercase(new Client.Core.Control.ctor)))).Content((title||"")+"")),Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.FontSizeM(new Client.Core.Control.ctor))).Content(value.toLowerCase())))},Section:function(title,value,accent){accent===void 0&&(accent=!1);var control=Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.AlignItemsCenter(Client.Core.ControlStyles_GENERATED.JustifyContentCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.W100(Client.Core.ControlStyles_GENERATED.F00(Client.Core.ControlStyles_GENERATED.BgWhite(new Client.Core.Control.ctor))))))),Client.Core.ControlStyles_GENERATED.PaddingBottomMin(Client.Core.ControlStyles_GENERATED.FontSizeS(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.Uppercase(new Client.Core.Control.ctor)))).Content((title||"")+":")),Client.Core.ControlStyles_GENERATED.TagAccentBig(Client.Core.ControlStyles_GENERATED.TagBaseBig(new Client.Core.Control.ctor,!accent),accent).Content(value));return Client.Core.DomJs.Add(this.CONTAINER,control),control},Title:function(title){Client.Core.DomJs.Add(this.CONTAINER,Client.Core.ControlStyles_GENERATED.Normal(Client.Core.ControlStyles_GENERATED.Margin(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Italic(Client.Core.ControlStyles_GENERATED.FontSizeLL(new Client.Core.Control.ctor)))))).Content(title))}}});Bridge.define("Client.Module.ModScadenze",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null,SEARCH:null,SELECT_CLIENTE:null,SELECT_UTENTE:null,DATE_START:null,DATE_END:null,TOOLBAR:null,CONTROLLIST:null,DESC:!1,ORDERBY:null},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor;this.SEARCH=document.createElement("input");this.SELECT_CLIENTE=document.createElement("select");this.SELECT_UTENTE=document.createElement("select");this.DATE_START=document.createElement("input");this.DATE_END=document.createElement("input");this.TOOLBAR=new Client.Controls.ControlToolbar},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$t1,$t2,utenti,clienti,$t3,$t4,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:this.SELECT_CLIENTE.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t.selected=Bridge.referenceEquals(($t1=this.HASHDATA)!=null?$t1.cliente:null,""),$t));this.SELECT_UTENTE.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t.selected=Bridge.referenceEquals(($t2=this.HASHDATA)!=null?$t2.utente:null,""),$t));$task1=Client.Core.Api.GetAsync("DbScadenzeUtentiGetMin");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();utenti=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(System.Object),$taskResult1);utenti.ForEach(Bridge.fn.bind(this,function(e){var $t3,$t4;this.SELECT_UTENTE.appendChild(($t3=document.createElement("option"),$t3.text=e.NAME,$t3.value=Bridge.toString(e.ID),$t3.selected=Bridge.referenceEquals(Bridge.toString(e.ID),($t4=this.HASHDATA)!=null?$t4.utente:null),$t3))}));this.SELECT_UTENTE.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});$task2=Client.Core.Api.GetAsync("DbScadenzeClientiGetMin");$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();clienti=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(System.Object),$taskResult2);clienti.ForEach(Bridge.fn.bind(this,function(e){var $t3,$t4;this.SELECT_CLIENTE.appendChild(($t3=document.createElement("option"),$t3.text=e.NAME,$t3.value=Bridge.toString(e.ID),$t3.selected=Bridge.referenceEquals(Bridge.toString(e.ID),($t4=this.HASHDATA)!=null?$t4.cliente:null),$t3))}));this.SELECT_CLIENTE.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.SEARCH.value=($t=this.HASHDATA)!=null?$t.filter:null;this.SEARCH.placeholder="cerca...";this.SEARCH.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.DATE_START.value=($t3=this.HASHDATA)!=null?$t3.date_start:null;this.DATE_START.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.DATE_START.type="date";this.DATE_END.value=($t4=this.HASHDATA)!=null?$t4.date_end:null;this.DATE_END.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.DATE_END.type="date";this.TOOLBAR.Left$1(this.SEARCH);this.TOOLBAR.Left$1(this.SELECT_UTENTE);this.TOOLBAR.Left$1(this.SELECT_CLIENTE);this.TOOLBAR.Right$1(this.DATE_START);this.TOOLBAR.Right$1(this.DATE_END);this.TOOLBAR.Right(new Client.Controls.ControlButton("scarica pdf","fas fa-file-pdf").Click$1(Bridge.fn.bind(this,function(evt){var $step=0,$task1,$taskResult1,evt,$jumpFromFinally,res,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:evt.stopPropagation();evt.preventDefault();$task1=Client.Core.Api.GetAsync$1("PdfGet",Client.Core.Serialization.Serialize({desc:this.DESC,orderby:this.ORDERBY,filter:this.SEARCH.value,date_start:this.DATE_START.value,date_end:this.DATE_END.value,utente:this.SELECT_UTENTE.value,cliente:this.SELECT_CLIENTE.value}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;document.location.href=res;return;default:return}}},arguments);$asyncBody()})));Client.Core.ControlStyles_GENERATED.W100(this.CONTAINER);Client.Core.DomJs.Add(this.CONTAINER,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.CONTAINER,this.CONTROLLIST.Caption(Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/scadenza",{ID:0})}).Content("registra nuova scadenza"))))))).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("name");row.AddCellHeader("ric");row.AddCellHeader("data scadenza");row.AddCellHeader("quando scade");row.AddCellHeader("utenti");row.AddCellHeader("clienti")}).Fetch(Client.Model.SCADENZE,"DbScadenzeGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.NAME)));Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.REC)));row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.RO_SCADENZA_REALE,"L"));row.AddCell$2(Client.Core.MomentJs.MomentFromNow(x.RO_SCADENZA_REALE));Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.RO_UTENTI));Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.RO_CLIENTI));row.Click(function(){Client.Core.PageJs.Redirect("/scadenza",{ID:x.ID})});index++})})}))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({desc:this.DESC,orderby:this.ORDERBY,filter:this.SEARCH.value,date_start:this.DATE_START.value,date_end:this.DATE_END.value,utente:this.SELECT_UTENTE.value,cliente:this.SELECT_CLIENTE.value})}}});Bridge.define("Client.Module.ModUsers",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null,SEARCH:null,SELECTACTIVE:null,SELECTCLUB:null,SELECTPROFILE:null,SELECTSTATUS:null,TOOLBAR:null,CONTROLLIST:null,DESC:!1,ORDERBY:null},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor;this.SEARCH=document.createElement("input");this.SELECTACTIVE=document.createElement("select");this.SELECTCLUB=document.createElement("select");this.SELECTPROFILE=document.createElement("select");this.SELECTSTATUS=document.createElement("select");this.TOOLBAR=new Client.Controls.ControlToolbar},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$t1,$t2,$t3,$t4,$t5,clubs,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:this.SELECTACTIVE.appendChild(($t=document.createElement("option"),$t.text="attivi",$t.value=System.Boolean.toString(!0),$t.selected=Bridge.referenceEquals(($t1=this.HASHDATA)!=null?$t1.active:null,System.Boolean.toString(!0))||(($t2=this.HASHDATA)!=null?$t2.active:null)==null,$t));this.SELECTACTIVE.appendChild(($t=document.createElement("option"),$t.text="non attivi",$t.value=System.Boolean.toString(!1),$t.selected=Bridge.referenceEquals(($t3=this.HASHDATA)!=null?$t3.active:null,System.Boolean.toString(!1)),$t));this.SELECTSTATUS.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t.selected=Bridge.referenceEquals(($t4=this.HASHDATA)!=null?$t4.status:null,""),$t));this.SELECTSTATUS.appendChild(($t=document.createElement("option"),$t.text="ACCESSO VALIDO",$t.value="VALID",$t.selected=Bridge.referenceEquals(($t5=this.HASHDATA)!=null?$t5.status:null,"VALID"),$t));Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.ESTATUS)).ForEach(Bridge.fn.bind(this,function(e){var $t6,$t7,$t8;this.SELECTSTATUS.appendChild(($t6=document.createElement("option"),$t6.text=($t7=Client.Core.Localization.T(e))!=null?$t7.toUpperCase():null,$t6.value=e,$t6.selected=Bridge.referenceEquals(e,($t8=this.HASHDATA)!=null?$t8.status:null),$t6))}));this.SELECTSTATUS.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.SELECTPROFILE.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t));Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.EPROFILE)).ForEach(Bridge.fn.bind(this,function(e){var $t6,$t7;this.SELECTPROFILE.appendChild(($t6=document.createElement("option"),$t6.text=e,$t6.value=e,$t6.selected=Bridge.referenceEquals(e,($t7=this.HASHDATA)!=null?$t7.profile:null),$t6))}));this.SELECTPROFILE.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.SELECTACTIVE.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});$task1=Client.Core.Api.GetAsync("DbClubGetMin");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();clubs=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CLUB),$taskResult1);clubs.ForEach(Bridge.fn.bind(this,function(e){var $t6,$t7;this.SELECTCLUB.appendChild(($t6=document.createElement("option"),$t6.text=e.NAME,$t6.value=Bridge.toString(e.ID),$t6.selected=Bridge.referenceEquals(Bridge.toString(e.ID),($t7=this.HASHDATA)!=null?$t7.club:null),$t6))}));this.SELECTCLUB.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.SEARCH.value=($t=this.HASHDATA)!=null?$t.filter:null;this.SEARCH.placeholder="cerca...";this.SEARCH.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.TOOLBAR.Right$1(this.SEARCH);this.TOOLBAR.Right$1(this.SELECTSTATUS);this.TOOLBAR.Right$1(this.SELECTPROFILE);this.TOOLBAR.Right$1(this.SELECTCLUB);this.TOOLBAR.Right$1(this.SELECTACTIVE);Client.Core.ControlStyles_GENERATED.W100(this.CONTAINER);Client.Core.DomJs.Add(this.CONTAINER,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.CONTAINER,this.CONTROLLIST.Caption(Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/utente",{ID:0})}).Content("registra nuovo utente"))))))).AddRowHeader(Bridge.fn.bind(this,function(row){row.AddCellHeaderIndex();row.AddCellHeader("id");row.AddCellHeader("cognome");row.AddCellHeader("nome");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("numero tel"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("stato"));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Underline(Client.Core.ControlStyles_GENERATED.Pointer(row.AddCellHeader("cassa"))).Click(Bridge.fn.bind(this,function(){this.DESC=!this.DESC;this.ORDERBY="RO_ACTIONS";window.location.hash=this.GetFilteredHash()})));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Underline(Client.Core.ControlStyles_GENERATED.Pointer(row.AddCellHeader("accessi"))).Click(Bridge.fn.bind(this,function(){this.DESC=!this.DESC;this.ORDERBY="RO_ACCESS";window.location.hash=this.GetFilteredHash()})));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Underline(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("data mod")))).Click(Bridge.fn.bind(this,function(){this.DESC=!this.DESC;this.ORDERBY="MOD_DATE";window.location.hash=this.GetFilteredHash()})))})).Fetch(Client.Model.PEOPLE,"DbUserGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){var $t;row.AddCellIndex(index);row.AddCellID(x.ID);Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.LASTNAME)));Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.FIRSTNAME));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.PHONE_NUMBER));Client.Core.ControlStyles_GENERATED.Des(row.AddCell(Client.Core.ControlStyles_GENERATED.TagBase(Client.Core.ControlStyles_GENERATED.TagAccent((new Client.Core.Control.ctor).Content(($t=Client.Core.Localization.T(x.RO_ERROR),$t!=null?$t:"accesso valido")),x.RO_ERROR!=null),x.RO_ERROR==null)));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.RO_ACTIONS));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.RO_ACCESS));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Aright(row.AddCell$2(Client.Core.MomentJs.MomentFromNow(x.MOD_DATE))));row.Click(function(){Client.Core.PageJs.Redirect("/utente",{ID:x.ID})});index++})})}))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({desc:this.DESC,orderby:this.ORDERBY,filter:this.SEARCH.value,status:this.SELECTSTATUS.value,active:this.SELECTACTIVE.value,club:this.SELECTCLUB.value,profile:this.SELECTPROFILE.value})}}});Bridge.define("Client.Module.ModUtenti",{inherits:[Client.Module.Moldule],fields:{CONTAINER:null,TOOLBAR:null,CONTROLLIST:null},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor;this.TOOLBAR=new Client.Controls.ControlToolbar},ctor:function(ctx){this.$initialize();Client.Module.Moldule.ctor.call(this,ctx)}},methods:{Get:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:Client.Core.ControlStyles_GENERATED.W100(this.CONTAINER);Client.Core.DomJs.Add(this.CONTAINER,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.CONTAINER,this.CONTROLLIST.Caption(Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/utente",{ID:0})}).Content("registra nuovo utente"))))))).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("cognome");row.AddCellHeader("nome");row.AddCellHeader("email")}).Fetch(Client.Model.UTENTI,"DbUtentiGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.COGNOME)));Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.NOME)));Client.Core.ControlStyles_GENERATED.Lowercase(Client.Core.ControlStyles_GENERATED.Bold(row.AddCell$2(x.EMAIL)));row.Click(function(){Client.Core.PageJs.Redirect("/utente",{ID:x.ID})});index++})})}))}}});Bridge.define("Client.Module.ModAccesses",{inherits:[Client.Module.ModToolbar],fields:{REOCRDS:null,SELECTSTATUS:null,CONTROLLIST:null},ctors:{init:function(){this.REOCRDS=document.createElement("div");this.SELECTSTATUS=document.createElement("select");this.CONTROLLIST=new Client.Controls.ControlList},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.SELECTSTATUS.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t));Client.Core.Realtime.clientACCESS=Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh);Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.ESTATUS)).ForEach(Bridge.fn.bind(this,function(e){var $t1,$t2;this.SELECTSTATUS.appendChild(($t1=document.createElement("option"),$t1.text=e!=null?Client.Core.Localization.T(e).toUpperCase():null,$t1.value=e,$t1.selected=Bridge.referenceEquals(e,($t2=this.HASHDATA)!=null?$t2.status:null),$t1))}));this.SELECTSTATUS.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.TOOLBAR.Right$1(this.SELECTSTATUS);Client.Core.ControlStyles_GENERATED.W100(this.DIVCONTENT);Client.Core.DomJs.Add(this.DIVCONTENT,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.AddRowHeader(function(row){row.AddCellHeaderIndex();Client.Core.ControlStyles_GENERATED.Width1Perc(Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader()));Client.Core.ControlStyles_GENERATED.Width1Perc(row.AddCellHeader("utente"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("entrata"));row.AddCellHeader("data");row.AddCellHeader("ora");Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Aright(row.AddCellHeader("stato")))}).Fetch(Client.Model.ANVIZ_ACCESS,"DbAccessGetAll",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){var $t;row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Width1Perc(Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlAvatar(x.RO_PROFILE_PIC))));Client.Core.DomJs.Class(Client.Core.ControlStyles_GENERATED.Width1Perc(Client.Core.ControlStyles_GENERATED.Nowrap(row.AddCell$2(x.RO_PEOPLE_NAME))),["capitalize"]);Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Opaque7(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell$2(Client.Core.MomentJs.MomentFromNow(x.TIME)))));row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.TIME,"L"));row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.TIME,"LT"));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Aright(row.AddCell(Client.Core.ControlStyles_GENERATED.TagAccent(Client.Core.ControlStyles_GENERATED.TagBase((new Client.Core.Control.ctor).Content(($t=Client.Core.Localization.T(x.RO_ERROR),$t!=null?$t:"accesso valido")),x.RO_ERROR==null),x.RO_ERROR!=null))));row.Click(function(){Client.Core.PageJs.Redirect("/utente",{ID:x.PEOPLE_id})});index++})})}))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({status:this.SELECTSTATUS.value})}}});Bridge.define("Client.Module.ModBackTitle",{inherits:[Client.Module.ModToolbar],ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.TOOLBAR.LeftIcon("fas fa-long-arrow-alt-left",Client.Core.PageJs.Back);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModCards",{inherits:[Client.Module.ModToolbar],fields:{CONTROLLIST:null},props:{CANEDIT:{get:function(){var $t,$t1,$t2;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))||Bridge.referenceEquals(($t1=Client.App.PEOPLE)!=null?$t1.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"TRAINER"))||Bridge.referenceEquals(($t2=Client.App.PEOPLE)!=null?$t2.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"STAFF"))}},ISADMIN:{get:function(){var $t;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))}}},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.Caption(this.CANEDIT?Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/scheda",{ID:0})}).Content("registra una nuova scheda")))))):null).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("nome");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("descrizione"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("rating"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("durata"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("difficoltÃ "));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("freq"));row.AddCellHeader();Client.Core.ControlStyles_GENERATED.Aright(row.AddCellHeader())}).Fetch(Client.Model.CARD,"DbCardGetAll",Client.Module.Moldule.GetHash(),Bridge.fn.bind(this,function(control,list){var index=1;list.forEach(Bridge.fn.bind(this,function(x){control.AddRow(Bridge.fn.bind(this,function(row){var $t,$t1;row.AddCellIndex(index);row.AddCell(Client.Core.DomJs.Add(Client.Core.DomJs.Add(new Client.Core.Control.ctor,Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.FontSizeL((new Client.Core.Control.ctor).Content(x.NAME.toLowerCase())))))),Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(System.Nullable.toString(x.DURATION,null)+" min"))))));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Lowercase(row.AddCell$2(x.DESC.toLowerCase())));Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlRating));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(System.Nullable.toString(x.DURATION,null)+" min"));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell$2(Bridge.toString(x.LEVEL).toLowerCase())));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell$2((Bridge.toString(x.FREQ).toLowerCase()||"")+"/7")));row.AddCell(Client.Core.DomJs.Add(new Client.Core.Control.ctor,Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Hover(new Client.Core.Control.ctor),Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Nowrap((new Client.Core.Control.ctor).Content(($t=x.RO_PT_NAME)!=null?$t.toLowerCase():null)))))),Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(($t1=x.RO_PATENT)!=null?$t1.toLowerCase():null))))).Click$1(function(ev){ev.preventDefault();ev.stopPropagation();Client.Core.PageJs.Redirect("/pts",{ID:0})}));Client.Core.ControlStyles_GENERATED.Aright(row.AddCell(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.JustifyContentFlexEnd(Client.Core.ControlStyles_GENERATED.F00(new Client.Core.Control.ctor)),new Client.Controls.ControlButton("scarica pdf","fas fa-file-pdf").Click$1(Bridge.fn.bind(this,function(evt){var $step=0,$task1,$taskResult1,evt,$jumpFromFinally,res,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:evt.stopPropagation();evt.preventDefault();$task1=Client.Core.Api.GetAsync$1("PdfGet",Client.Core.Serialization.Serialize({card_id:x.ID}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;document.location.href=res;return;default:return}}},arguments);$asyncBody()})))));row.Click(Bridge.fn.bind(this,function(){var $t2;if(!this.ISADMIN){if(!this.CANEDIT)return;if(System.Nullable.neq(($t2=Client.App.PEOPLE)!=null?$t2.ID:null,x.TRAINER_ID))return}Client.Core.PageJs.Redirect("/scheda",{ID:x.ID})}));index++}))}))})))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({})}}});Bridge.define("Client.Module.ModClubs",{inherits:[Client.Module.ModToolbar],fields:{CONTROLLIST:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.Caption(Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/club",{ID:0})}).Content("registra un nuovo club"))))))).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("club");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("indirizzo"));row.AddCellHeader("rating");row.AddCellHeader("affiliati");row.AddCellHeader("dominio");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader(""))}).Fetch(Client.Model.CLUB,"DbClubGetFull",Client.Module.Moldule.GetHash(),function(control,list){var index=1;list.forEach(function(x){control.AddRow(function(row){var $t;row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.NAME.toLowerCase())));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.ADDRESS)));row.AddCell(Client.Core.DomJs.Add$1(new Client.Core.Control.ctor,System.Linq.Enumerable.from(System.Array.init(5,0,System.Int32)).select(function(s){return Client.Core.ControlStyles_GENERATED.FontSizeSImp(new Client.Controls.ControlIcon("fas fa-star"))}).ToArray(Client.Core.Control)));row.AddCell$2(Bridge.toString(x.RO_AFFILIEATES));Client.Core.ControlStyles_GENERATED.Lowercase(row.AddCell$2(($t=x.DOMAIN)!=null?$t.toLowerCase():null));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Aright(row.AddCell(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.JustifyContentFlexEnd(Client.Core.ControlStyles_GENERATED.F00(new Client.Core.Control.ctor)),new Client.Controls.ControlButton("email di benvenuto a tutti","fas fa-envelope").Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,$taskResult1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(ev.stopImmediatePropagation(),ev.preventDefault(),System.Nullable.neq(Client.App.PEOPLE.CLUB_ID,x.ID))return;if(!confirm("Sei sicuro?"))return;$task1=Client.Core.Api.GetAsync$1("DbWelcomeMessageAll",Client.Core.Serialization.Serialize({ID:x.ID}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.App.Notify("messaggi inviat!");return;default:return}}},arguments);$asyncBody()}))))));row.Click(function(){System.Nullable.neq(Client.App.PEOPLE.CLUB_ID,x.ID)||Client.Core.PageJs.Redirect("/club",{ID:x.ID})});index++})})}))}}});Bridge.define("Client.Module.ModCourseDetails",{inherits:[Client.Module.ModToolbar],fields:{SELECT:null,CONTROLLIST:null,COURSE_DATA_ID:0,COURSE_DATA_WEEK:0,PEOPLE_ID:0},ctors:{init:function(){this.SELECT=document.createElement("select");this.CONTROLLIST=new Client.Controls.ControlList},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$task2,$taskResult2,$task3,$taskResult3,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,people,course,$t,user,$t1,$t2,addnew,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.COURSE_DATA_ID=this.DATA.ID;this.COURSE_DATA_WEEK=this.DATA.WEEK;$task2=Client.Core.Api.GetAsync("DbUserGetMin");$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();people=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE),$taskResult2);$task3=Client.Core.Api.GetAsync$1("DbCourseGetByCourseDataID",Client.Core.Serialization.Serialize(this.COURSE_DATA_ID));$step=3;$task3.continueWith($asyncBody);return;case 3:$taskResult3=$task3.getAwaitedResult();course=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.COURSE),$taskResult3).getItem(0);Client.App.NAVIGATOR.Left2(course.NAME);$t=Bridge.getEnumerator(people);try{while($t.moveNext())user=$t.Current,this.SELECT.options.add(($t1=document.createElement("option"),$t1.text=($t2=user.NAME)!=null?$t2.toUpperCase():null,$t1.value=Bridge.toString(user.ID),$t1))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}addnew=document.createElement("a");addnew.innerHTML="&nbsp â aggiungi come partecipante";addnew.classList.add("btn-flat");addnew.onclick=Bridge.fn.bind(this,function(ev){var $step=0,$task1,$taskResult1,ev,$jumpFromFinally,$t3,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCourseBook",Client.Core.Serialization.Serialize(($t3=new Client.Model.COURSE_DATA,$t3.ID=this.COURSE_DATA_ID,$t3.WEEK=this.COURSE_DATA_WEEK,$t3.RO_COURSE_DATA_PEOPLE_ID=Client.Core.Types.ToInt(this.SELECT.value),$t3)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CONTROLLIST_refresh();return;default:return}}},arguments);$asyncBody()});this.TOOLBAR.Right$1(this.SELECT);this.TOOLBAR.Right$1(addnew);Client.Core.ControlStyles_GENERATED.W100(this.DIVCONTENT);Client.Core.DomJs.Add(this.DIVCONTENT,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("nome");row.AddCellHeader()}).Fetch(Client.Model.COURSE_DATA_PEOPLE,"DbCourseDetailGet",this.GetFilteredHash(),Bridge.fn.bind(this,function(control,list){var index=1;list.forEach(Bridge.fn.bind(this,function(x){control.AddRow(Bridge.fn.bind(this,function(row){row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Bolder(row.AddCell$2(x.NAME)));Client.Core.ControlStyles_GENERATED.Aright(row.AddCell(Client.Core.ControlStyles_GENERATED.BtnSolid((new Client.Core.Control.ctor).Content("rimuovi").Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,$taskResult1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:ev.preventDefault();ev.stopPropagation();this.PEOPLE_ID=System.Nullable.getValue(x.PEOPLE_id);$task1=Client.Core.Api.GetAsync$1("DbCourseDetailRemoveUser",this.GetFilteredHash());$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CONTROLLIST_refresh();return;default:return}}},arguments);$asyncBody()})))));index++}))}))})))},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({course_data_id:this.COURSE_DATA_ID,course_data_week:this.COURSE_DATA_WEEK,people_id:this.PEOPLE_ID})}}});Bridge.define("Client.Module.ModCourses",{inherits:[Client.Module.ModToolbar],statics:{methods:{Book:function(is_suspended,is_full,x){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:if(is_suspended||is_full){$tcs.setResult(null);return}x.RO_COURSE_DATA_PEOPLE_ID=null;$task1=Client.Core.Api.GetAsync$1("DbCourseBook",Client.Core.Serialization.Serialize(x));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.Types.ToInt($taskResult1);$task2=System.Threading.Tasks.Task.fromPromise(Client.App.SIGNALRPROXY.invoke("serverBOOK"));$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Resume:function(ev,x){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:ev!=null?ev.preventDefault():null;ev!=null?ev.stopPropagation():null;$task1=Client.Core.Api.GetAsync$1("DbCourseResume",Client.Core.Serialization.Serialize(x));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.Types.ToInt($taskResult1);$task2=System.Threading.Tasks.Task.fromPromise(Client.App.SIGNALRPROXY.invoke("serverBOOK"));$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Suspend:function(ev,x){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:ev!=null?ev.preventDefault():null;ev!=null?ev.stopPropagation():null;$task1=Client.Core.Api.GetAsync$1("DbCourseSuspend",Client.Core.Serialization.Serialize(x));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.Types.ToInt($taskResult1);$task2=System.Threading.Tasks.Task.fromPromise(Client.App.SIGNALRPROXY.invoke("serverBOOK"));$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},UnBook:function(is_suspended,x){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,res,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:if(is_suspended){$tcs.setResult(null);return}$task1=Client.Core.Api.GetAsync$1("DbCourseUnBook",Client.Core.Serialization.Serialize(x.RO_COURSE_DATA_PEOPLE_ID));$step=1;$task1.continueWith($asyncBody);return;case 1:if($taskResult1=$task1.getAwaitedResult(),res=Client.Core.Types.ToInt($taskResult1),res>0){$step=2;continue}$step=4;continue;case 2:$task2=System.Threading.Tasks.Task.fromPromise(Client.App.SIGNALRPROXY.invoke("serverBOOK"));$step=3;$task2.continueWith($asyncBody);return;case 3:$taskResult2=$task2.getAwaitedResult();$step=4;continue;case 4:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}},fields:{CONTAINER:null,SELECTACTIVE:null,SELECTCLUB:null,SELECTWEEK:null,ADDRESS:null,CLUBS:null,CONTROLLIST:null,ORDERBY:null},props:{ISADMIN:{get:function(){return this.PROFILE==="ADMINISTRATOR"||this.PROFILE==="STAFF"||this.PROFILE==="TRAINER"}},PROFILE:{get:function(){return Client.Core.Types.ToEnum(Client.Model.Enums.EPROFILE,Client.App.PEOPLE.EPROFILE)}}},ctors:{init:function(){this.CONTAINER=new Client.Core.Control.ctor;this.SELECTACTIVE=document.createElement("select");this.SELECTCLUB=document.createElement("select");this.SELECTWEEK=document.createElement("select")},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx);Client.Core.Realtime.clientBOOK=Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=this.CONTROLLIST_refresh();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})}},methods:{Get:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$t1,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync("DbClubGetMin");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CLUBS=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CLUB),$taskResult1);this.SELECTCLUB.appendChild(($t=document.createElement("option"),$t.text="TUTTI I CLUB",$t.value="0",$t.selected=Bridge.referenceEquals("0",($t1=this.HASHDATA)!=null?$t1.club:null),$t));this.CLUBS.ForEach(Bridge.fn.bind(this,function(e){var $t2,$t3;this.SELECTCLUB.appendChild(($t2=document.createElement("option"),$t2.text=e.NAME,$t2.value=Bridge.toString(e.ID),$t2.selected=Bridge.referenceEquals(Bridge.toString(e.ID),($t3=this.HASHDATA)!=null?$t3.club:null),$t2))}));this.SELECTCLUB.onchange=Bridge.fn.bind(this,function(ev){Client.Core.PageJs.Hash(this.GetFilteredHash())});Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.EACTIVE)).ForEach(Bridge.fn.bind(this,function(e){var $t2,$t3;this.SELECTACTIVE.appendChild(($t2=document.createElement("option"),$t2.text=e!=null?e.toUpperCase():null,$t2.value=e,$t2.selected=Bridge.referenceEquals(e,($t3=this.HASHDATA)!=null?$t3.active:null),$t2))}));this.SELECTACTIVE.onchange=Bridge.fn.bind(this,function(ev){Client.Core.PageJs.Hash(this.GetFilteredHash())});Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.EWEEK)).ForEach(Bridge.fn.bind(this,function(e){var $t2,$t3;this.SELECTWEEK.appendChild(($t2=document.createElement("option"),$t2.text=e!=null?e.toUpperCase():null,$t2.value=e,$t2.selected=Bridge.referenceEquals(e,($t3=this.HASHDATA)!=null?$t3.week:null),$t2))}));this.SELECTWEEK.onchange=Bridge.fn.bind(this,function(ev){Client.Core.PageJs.Hash(this.GetFilteredHash())});this.TOOLBAR.Reload(Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=this.CONTROLLIST_refresh();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}));this.TOOLBAR.Right$1(this.SELECTWEEK);this.TOOLBAR.Right$1(this.SELECTCLUB);this.ISADMIN&&this.TOOLBAR.Right$1(this.SELECTACTIVE);Client.Core.ControlStyles_GENERATED.W100(this.CONTAINER);Client.Core.DomJs.Add(this.CONTAINER,this.TOOLBAR);this.CONTROLLIST_refresh();$tcs.setResult(this.CONTAINER.DIV);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$t1,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:this.ORDERBY=($t=($t1=this.HASHDATA)!=null?$t1.orderby:null)!=null?Bridge.toString($t):null;$task1=Client.Core.Maps.GetMyAddress();$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.ADDRESS=$taskResult1;this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.CONTAINER,this.CONTROLLIST.Caption(this.ISADMIN?Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/corsi-schedulazione")}).Content("schedulazione corsi")))))):null).AddRowHeader(Bridge.fn.bind(this,function(row){Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeaderIndex());Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("trainer"));row.AddCellHeader("corso");Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Underline(row.AddCellHeader("distanza"))).Click(Bridge.fn.bind(this,function(){this.ORDERBY="RO_CLUB_DSTNC";Client.Core.PageJs.Hash(this.GetFilteredHash())}));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("totali"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("occupati"));Client.Core.ControlStyles_GENERATED.Mob(row.AddCellHeader(""));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("giorno"));Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Underline(row.AddCellHeader("data"))).Click(Bridge.fn.bind(this,function(){this.ORDERBY="DATE";Client.Core.PageJs.Hash(this.GetFilteredHash())}));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("ora"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader());Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader());this.ISADMIN&&Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader())})).Fetch(Client.Model.COURSE_DATA,"DbCoursesGeAll",this.GetFilteredHash(),Bridge.fn.bind(this,function(control,list){var index=1;list.forEach(Bridge.fn.bind(this,function(x){var $step=0,x,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:control.AddRow(Bridge.fn.bind(this,function(row){var is_suspended=Bridge.referenceEquals(Bridge.toString(x.RO_STATUS),System.Enum.toString(Client.Model.Enums.ECOURSESTATUS,"SUSPENDED")),is_full=Bridge.referenceEquals(Bridge.toString(x.RO_STATUS),"pieno");Client.Core.ControlStyles_GENERATED.Opaque3(row,is_suspended);Client.Core.ControlStyles_GENERATED.Des(row.AddCellIndex(index));Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.RO_TRAINER_NAME)));row.AddCell(Client.Core.DomJs.Add(Client.Core.DomJs.Add(new Client.Core.Control.ctor,Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Des(new Client.Core.Control.ctor),Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Capitalize(new Client.Core.Control.ctor))).Content(x.RO_COURSE_NAME.toLowerCase())),Client.Core.ControlStyles_GENERATED.FontSizeSSImp(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.Uppercase(new Client.Core.Control.ctor))).Content(x.RO_CLUB_NAME.toLowerCase()))),Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.Mob(new Client.Core.Control.ctor),Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Capitalize(new Client.Core.Control.ctor))).Content(x.RO_COURSE_NAME.toLowerCase())),Client.Core.ControlStyles_GENERATED.FontSizeSSImp(Client.Core.ControlStyles_GENERATED.Bold(Client.Core.ControlStyles_GENERATED.Ellipsis(Client.Core.ControlStyles_GENERATED.Uppercase(new Client.Core.Control.ctor)))).Content(x.RO_CLUB_NAME.toLowerCase()))));Client.Core.ControlStyles_GENERATED.FontSizeSImp(row.AddCell$2(x.RO_CLUB_DSTNC));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.PLACES));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.RO_FREE_PLACES));Client.Core.ControlStyles_GENERATED.FontSizeSImp(Client.Core.ControlStyles_GENERATED.Mob(row.AddCell$2(x.RO_FREE_PLACES+"/"+System.Nullable.toString(x.PLACES,null))));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.DATE,"dddd")));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.DATE,"L")));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.DATE,"LT")));Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.FontSizeSImp(Client.Core.ControlStyles_GENERATED.Underline(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Mob(row.AddCell$2(Client.Core.MomentJs.MomentFormat(x.DATE,"ddd DD MMM HH:mm")))))));Client.Core.ControlStyles_GENERATED.Des(row.AddCell(Client.Core.ControlStyles_GENERATED.TagGreen(Client.Core.ControlStyles_GENERATED.TagBase((new Client.Core.Control.ctor).Content(is_suspended?"sospeso":x.RO_STATUS),is_suspended),!is_suspended)));(x.RO_MY_BOOKING!=null&System.Nullable.gt(x.RO_MY_BOOKING,0))?Client.Core.ControlStyles_GENERATED.Des(row.AddCell(Client.Core.ControlStyles_GENERATED.BgGreen(new Client.Controls.ControlButtonFull("prenotato","fas fa-calendar-check"))).Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:ev.preventDefault();ev.stopPropagation();$task1=Client.Module.ModCourses.UnBook(is_suspended,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))):Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlButtonFull("prenota","fas fa-calendar-check")).Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:ev.preventDefault();ev.stopPropagation();$task1=Client.Module.ModCourses.Book(is_suspended,is_full,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})));this.ISADMIN&&(is_suspended?Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlButtonFull("riattiva","fas fa-undo-alt")).Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModCourses.Resume(ev,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))):Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlButtonFull("sospendi","fas fa-times-circle")).Click$1(Bridge.fn.bind(this,function(ev){var $step=0,$task1,ev,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(ev.preventDefault(),ev.stopPropagation(),ev.stopImmediatePropagation(),!window.confirm("Confermi la sospensione del corso?"))return;$task1=Client.Module.ModCourses.Suspend(ev,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))),this.ISADMIN&&(row.ClickDes(function(){Client.Core.PageJs.Redirect("/corso-dettaglio",{ID:x.ID,WEEK:x.WEEK})}),!(x.RO_MY_BOOKING!=null&System.Nullable.gt(x.RO_MY_BOOKING,0))||Client.Core.ControlStyles_GENERATED.AnimationDuration2000(Client.Core.DomJs.Class(row,["animated infinite flash"]))));row.ClickMob(Bridge.fn.bind(this,function(){this.ISADMIN?(new Client.Controls.ControlModal).Show(x.RO_COURSE_NAME,Client.Core.MomentJs.MomentFormat(x.DATE,"LLLL"),is_suspended?"questo corso Ã¨ sospeso":x.RO_CLUB_NAME,[is_suspended?new(System.Collections.Generic.KeyValuePair$2(System.String,Function).$ctor1)("riattiva",Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModCourses.Resume(null,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})):new(System.Collections.Generic.KeyValuePair$2(System.String,Function).$ctor1)("sospendi",Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(!window.confirm("Confermi la sospensione del corso?"))return;$task1=Client.Module.ModCourses.Suspend(null,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})),new(System.Collections.Generic.KeyValuePair$2(System.String,Function).$ctor1)("partecipanti",function(){Client.Core.PageJs.Redirect("/corso-dettaglio",{ID:x.ID,WEEK:x.WEEK})})]):is_suspended||!(x.RO_MY_BOOKING!=null&System.Nullable.gt(x.RO_MY_BOOKING,0))?is_suspended||(new Client.Controls.ControlModal).Show(x.RO_COURSE_NAME,Client.Core.MomentJs.MomentFormat(x.DATE,"LLLL"),"ti verrÃ  scalato un INGRESSO dal tuo saldo",[new(System.Collections.Generic.KeyValuePair$2(System.String,Function).$ctor1)("prenota",Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModCourses.Book(is_suspended,is_full,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();(new Client.Controls.ControlModal).Hide();return;default:return}}},arguments);$asyncBody()}))]):(new Client.Controls.ControlModal).Show(x.RO_COURSE_NAME,Client.Core.MomentJs.MomentFormat(x.DATE,"LLLL"),"hai prenotato questo corso",[new(System.Collections.Generic.KeyValuePair$2(System.String,Function).$ctor1)("disdici",Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModCourses.UnBook(is_suspended,x);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();(new Client.Controls.ControlModal).Hide();return;default:return}}},arguments);$asyncBody()}))])}));index++}));return;default:return}}},arguments);$asyncBody()}))})));$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({orderby:this.ORDERBY,address:this.ADDRESS,club:this.SELECTCLUB.value,week:this.SELECTWEEK.value,active:this.SELECTACTIVE.value})}}});Bridge.define("Client.Module.ModExercises",{inherits:[Client.Module.ModToolbar],fields:{CONTROLLIST:null,SELECTMUSCLE:null},props:{CANEDIT:{get:function(){var $t,$t1,$t2;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))||Bridge.referenceEquals(($t1=Client.App.PEOPLE)!=null?$t1.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"TRAINER"))||Bridge.referenceEquals(($t2=Client.App.PEOPLE)!=null?$t2.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"STAFF"))}},ISADMIN:{get:function(){var $t;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))}},CARD_ID:{get:function(){var $t;return($t=this.DATA)!=null?$t.CARD_ID:null}},HREF:{get:function(){var $t;return($t=this.DATA)!=null?$t.HREF:null}}},ctors:{init:function(){this.SELECTMUSCLE=document.createElement("select")},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{GetFilteredHash:function(){return Client.Core.Serialization.Serialize({muscle:this.SELECTMUSCLE.value})},OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.SELECTMUSCLE.appendChild(($t=document.createElement("option"),$t.text="",$t.value="",$t));System.Linq.Enumerable.from(Client.Core.Collections.ToList(System.Enum.getValues(Client.Model.Enums.EMUSCLE))).orderBy(function(x){return Client.Core.Localization.T(x)}).forEach(Bridge.fn.bind(this,function(e){var $t1,$t2;this.SELECTMUSCLE.appendChild(($t1=document.createElement("option"),$t1.text=Client.Core.Localization.T(e),$t1.value=e,$t1.selected=Bridge.referenceEquals(e,($t2=this.HASHDATA)!=null?$t2.muscle:null),$t1))}));this.SELECTMUSCLE.onchange=Bridge.fn.bind(this,function(ev){window.location.hash=this.GetFilteredHash()});this.TOOLBAR.Right$1(this.SELECTMUSCLE);this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.Caption(this.ISADMIN||this.CANEDIT?Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/esercizio",{ID:0})}).Content("registra un nuovo esercizio")))))):null).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("nome");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("muscolo"));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Aright(row.AddCellHeader("muscolo")));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader()))}).Fetch(Client.Model.EXERCISE,"DbExerciseGetAll",Client.Module.Moldule.GetHash(),Bridge.fn.bind(this,function(control,list){var index=1;list.forEach(Bridge.fn.bind(this,function(x){control.AddRow(Bridge.fn.bind(this,function(row){row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(x.NAME.toLowerCase()))));var s=Client.Core.Localization.T(x.EMUSCLE);Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell$2(s.toLowerCase())));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell$2(s.toLowerCase()))));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlImage(x.URL).Width$1("30%"))));row.Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$t,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:if(!this.CANEDIT)return;if(this.CARD_ID>0){$step=1;continue}$step=3;continue;case 1:$task1=Client.Core.Api.GetAsync$1("DbCardDetailSave",Client.Core.Serialization.Serialize(($t=new Client.Model.CARD_DETAILS,$t.CARD_ID=this.CARD_ID,$t.EXERCISE_ID=x.ID,$t)));$step=2;$task1.continueWith($asyncBody,!0);return;case 2:$taskResult1=$task1.getAwaitedResult();location.href=this.HREF;return;case 3:Client.Core.PageJs.Redirect("/esercizio",{ID:x.ID});return;default:return}}},arguments);$asyncBody()}));index++}))}))})))}}});Bridge.define("Client.Module.ModFormActions",{inherits:[Client.Module.ModForm],fields:{PEOPLE_ACTIONS:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,people_id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;people_id=this.DATA.PEOPLE_ID;$task1=Client.Core.Api.GetAsync$1("DbActionsGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.PEOPLE_ACTIONS=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.PEOPLE_ACTIONS),$taskResult1))[0];this.PEOPLE_ACTIONS.PEOPLE_id=people_id;Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("data",this.PEOPLE_ACTIONS.DATE,System.DateTime,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_ACTIONS.DATE=Client.Core.Types.ToDatetime(s)}),!0,void 0,void 0,0,!0,"cassa",!1,void 0);this.Add("valore",this.PEOPLE_ACTIONS.VDOUBLE,System.Double,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_ACTIONS.VDOUBLE=Client.Core.Types.ToFloatNull(s)}),!0,void 0,void 0,0,!0,"cassa",!1,void 0);this.Add("azione",this.PEOPLE_ACTIONS.EACTION,Client.Model.Enums.EACTION,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_ACTIONS.EACTION=s}),!0,void 0,void 0,0,!0,"cassa",!1,void 0);this.Add("tipo abbonamento",this.PEOPLE_ACTIONS.ESUBSCRIPTIONTYPE,Client.Model.Enums.ESUBSCRIPTIONTYPE,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_ACTIONS.ESUBSCRIPTIONTYPE=s}),!0,void 0,void 0,0,!0,"cassa",!1,void 0);this.Add("pagato",this.PEOPLE_ACTIONS.IS_DONE,System.Boolean,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_ACTIONS.IS_DONE=Client.Core.Types.ToBool(s)}),!0,void 0,void 0,0,!0,"cassa",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbActionsDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbActionsSave",Client.Core.Serialization.Serialize(this.PEOPLE_ACTIONS));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormCard",{inherits:[Client.Module.ModForm],statics:{fields:{SHOWIMAGES:!1}},fields:{COMMANDS$1:null,CARD:null},props:{ISADMIN:{get:function(){return this.CARD.ID===0||System.Nullable.eq(Client.App.PEOPLE.ID,this.CARD.TRAINER_ID)||Bridge.referenceEquals(Client.App.PEOPLE.EPROFILE,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))}}},ctors:{init:function(){this.COMMANDS$1=Client.Core.ControlStyles_GENERATED.Row(Client.Core.ControlStyles_GENERATED.F00(new Client.Core.Control.ctor))},ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;$task1=Client.Core.Api.GetAsync$1("DbCardGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CARD=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.CARD),$taskResult1))[0];Client.App.NAVIGATOR.Left2(this.CARD.NAME);Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.CARD.TRAINER_ID=Client.App.PEOPLE.ID;this.ISADMIN&&(this.Add("nome",this.CARD.NAME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD.NAME=s}),!0,void 0,void 0,25,!0,"scheda",!1,void 0),this.Add("descrizione",this.CARD.DESC,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD.DESC=s}),!0,void 0,void 0,0,!0,"scheda",!1,void 0),this.Add("personal trainer",this.CARD.TRAINER_ID,Client.Module.ModForm.TypeSelect,void 0,"DbTrainersRegistered",Bridge.fn.bind(this,function(s){this.CARD.TRAINER_ID=Client.Core.Types.ToInt(s)}),!1,void 0,void 0,0,!1,"scheda",!1,void 0),this.Add("durata (MIN)",this.CARD.DURATION,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD.DURATION=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"scheda",!1,void 0),this.Add("livello",this.CARD.LEVEL,Client.Model.Enums.ECARDLEVEL,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD.LEVEL=s}),!0,void 0,void 0,0,!0,"scheda",!1,void 0),this.Add("frequenza settimanale",this.CARD.FREQ,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD.FREQ=Client.Core.Types.ToInt(s)}),!0,7,void 0,0,!0,"scheda",!1,void 0));this.CARD.ID>0&&this.GROUPS.add("esercizi","esercizi");$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnAddDelete:function(){this.ISADMIN&&Client.Module.ModForm.prototype.OnAddDelete.call(this)},OnAddSave:function(){this.ISADMIN&&Client.Module.ModForm.prototype.OnAddSave.call(this)},OnAddTabs:function(hash){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:if(Bridge.referenceEquals(hash,"esercizi")){$step=1;continue}$step=3;continue;case 1:$task1=this.Refresh_Esercizi();$step=2;$task1.continueWith($asyncBody);return;case 2:$task1.getAwaitedResult();$step=3;continue;case 3:$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardSave",Client.Core.Serialization.Serialize(this.CARD));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Refresh_Esercizi:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,data,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:Client.Core.DomJs.Clear(this.DIVCONTENT);this.COMMANDS$1.Clear();Client.Core.DomJs.Add$3(this.DIVCONTENT,this.TOOLBAR);this.TOOLBAR.Clear();this.TOOLBAR.Right(this.COMMANDS$1);Client.Module.ModFormCard.SHOWIMAGES?Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("nascondi figure","fas fa-eye-slash").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:Client.Module.ModFormCard.SHOWIMAGES=!1;$task1=this.Refresh_Esercizi();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})))):Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("mostra figure","fas fa-eye").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:Client.Module.ModFormCard.SHOWIMAGES=!0;$task1=this.Refresh_Esercizi();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))));Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("PDF","fas fa-file-pdf").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,res,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("PdfGet",Client.Core.Serialization.Serialize({card_id:this.CARD.ID}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;document.location.href=res;return;default:return}}},arguments);$asyncBody()}))));this.ISADMIN&&Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("riposo","fas fa-clock").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$task2,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailsSetRestByCardID",Client.Core.Serialization.Serialize({ID:this.CARD.ID,REST:prompt("RIPOSO")}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();$task2=this.Refresh_Esercizi();$step=2;$task2.continueWith($asyncBody,!0);return;case 2:$task2.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))));this.ISADMIN&&Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("serie","fas fa-ellipsis-h").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$task2,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailsSetSetsByCardID",Client.Core.Serialization.Serialize({ID:this.CARD.ID,SETS:prompt("SERIE")}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();$task2=this.Refresh_Esercizi();$step=2;$task2.continueWith($asyncBody,!0);return;case 2:$task2.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))));this.ISADMIN&&Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("ripetizioni","fas fa-list-alt").Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$task2,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailsRepsSetsByCardID",Client.Core.Serialization.Serialize({ID:this.CARD.ID,REPS:prompt("RIPETIZIONI")}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();$task2=this.Refresh_Esercizi();$step=2;$task2.continueWith($asyncBody,!0);return;case 2:$task2.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}))));this.ISADMIN&&Client.Core.DomJs.Add(this.COMMANDS$1,Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("nuovo esercizio","fas fa-plus-square").Click(Bridge.fn.bind(this,function(){Client.Core.PageJs.Redirect("/esercizi",{CARD_ID:this.CARD.ID,HREF:encodeURIComponent(location.href)})}))));$task1=Client.Core.Api.GetAsync$1("DbCardDetailsByCardID",Client.Core.Serialization.Serialize({ID:this.CARD.ID}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();data=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CARD_DETAILS),$taskResult1);System.Linq.Enumerable.from(data).groupBy(function(x){return x.GROUP}).orderBy(function(x){return x.key()}).forEach(Bridge.fn.bind(this,function(g){Client.Core.DomJs.Add$3(this.DIVCONTENT,Client.Core.ControlStyles_GENERATED.FontSizeLL(Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Italic(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.Bold((new Client.Core.Control.ctor).Content("giorno "+(g.key()||""))))))));Client.Core.DomJs.Add$3(this.DIVCONTENT,(new Client.Controls.ControlList).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("esercizio");Client.Module.ModFormCard.SHOWIMAGES&&row.AddCellHeader();Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("serie"));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCellHeader("s")));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("ripetizioni"));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCellHeader("r")));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("riposo (sec)"));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCellHeader("p")));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("metodo"));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Aright(row.AddCellHeader("m")));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("gruppo")))}).Action$1(Bridge.fn.bind(this,function(control){var $step=0,control,$jumpFromFinally,index,group,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:index=1;group=null;System.Linq.Enumerable.from(data).where(function(t){return Bridge.referenceEquals(t.GROUP,g.key())}).orderBy(function(x){return x.ORDER}).toList(Client.Model.CARD_DETAILS).ForEach(Bridge.fn.bind(this,function(x){control.AddRow(Bridge.fn.bind(this,function(row){group==null?group=x.GROUP:Bridge.referenceEquals(group,x.GROUP)||(group=x.GROUP,index=1);row.DIV.setAttribute("id",Bridge.toString(x.ID));row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.RO_EXERCISE_NAME))));Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.FontSizeSImp(Client.Core.ControlStyles_GENERATED.Mob(row.AddCell$2(x.RO_EXERCISE_NAME)))));Client.Module.ModFormCard.SHOWIMAGES&&Client.Core.ControlStyles_GENERATED.Acenter(row.AddCell(new Client.Controls.ControlImage(x.RO_EXERCISE_URL).Width$1("60%")));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.SETS));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCell$2(x.SETS)));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.REPS));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCell$2(x.REPS)));Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.REST));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Acenter(row.AddCell$2(x.REST)));Client.Core.ControlStyles_GENERATED.Lowercase(Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.METHOD)));Client.Core.ControlStyles_GENERATED.Lowercase(Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.FontSizeSImp(Client.Core.ControlStyles_GENERATED.Aright(row.AddCell$2(x.METHOD)))));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Des(row.AddCell$2(x.GROUP))));row.Click(Bridge.fn.bind(this,function(){this.ISADMIN&&Client.Core.PageJs.Redirect("/dettaglio-esercizio",{ID:x.ID})}));index++}))}));setTimeout(Bridge.fn.bind(this,function(ev){var $t,node;if(this.ISADMIN){$t=Bridge.getEnumerator(document.querySelectorAll(".controllist"),Node);try{while($t.moveNext())node={v:$t.Current},Sortable.create(node.v,{filter:".controllist-row-header",onEnd:function($me,node){return Bridge.fn.bind($me,function(e){var $step=0,$task1,$taskResult1,$task2,e,$jumpFromFinally,oldIndex,newIndex,new_id,old_id,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:oldIndex=e.oldIndex;newIndex=e.newIndex;new_id=node.v.querySelectorAll(".controllist-row")[newIndex-2].id;old_id=node.v.querySelectorAll(".controllist-row")[oldIndex-2].id;$task1=Client.Core.Api.GetAsync$1("DbCardSwitchOrder",Client.Core.Serialization.Serialize({card_id:this.CARD.ID,new_id:new_id,old_id:old_id}));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();$task2=this.Refresh_Esercizi();$step=2;$task2.continueWith($asyncBody,!0);return;case 2:$task2.getAwaitedResult();return;default:return}}},arguments);$asyncBody()})}(this,node)})}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}),300);return;default:return}}},arguments);$asyncBody()})))}));$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormCardDetail",{inherits:[Client.Module.ModForm],fields:{CARD_DETAILS:null},props:{ID:{get:function(){return this.DATA.ID}}},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailGetByID",Client.Core.Serialization.Serialize({ID:this.ID}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CARD_DETAILS=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.CARD_DETAILS),$taskResult1))[0];Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("esercizio",this.CARD_DETAILS.EXERCISE_ID,Client.Module.ModForm.TypeSelect,void 0,"DbExercisesGetMin",Bridge.fn.bind(this,function(s){this.CARD_DETAILS.EXERCISE_ID=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!1,"esercizio",!1,void 0);this.Add("serie",this.CARD_DETAILS.SETS,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.SETS=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("ripetizioni",this.CARD_DETAILS.REPS,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.REPS=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("riposo",this.CARD_DETAILS.REST,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.REST=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("metodo",this.CARD_DETAILS.METHOD,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.METHOD=s}),!1,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("nota",this.CARD_DETAILS.NOTE,Client.Module.ModForm.TypeRichText,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.NOTE=s}),!1,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("gruppo",this.CARD_DETAILS.GROUP,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CARD_DETAILS.GROUP=s}),!1,void 0,void 0,1,!0,"esercizio",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCardDetailSave",Client.Core.Serialization.Serialize(this.CARD_DETAILS));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormClienti",{inherits:[Client.Module.ModForm],fields:{CLUB:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,people_id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;people_id=this.DATA.PEOPLE_ID;$task1=Client.Core.Api.GetAsync$1("DbClientiGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CLUB=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.CLIENTI),$taskResult1))[0];Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("nome",this.CLUB.NAME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.NAME=s}),!0,void 0,void 0,0,!0,"",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbClientiDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbClientiSave",Client.Core.Serialization.Serialize(this.CLUB));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormClub",{inherits:[Client.Module.ModForm],fields:{CLUB:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,people_id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;people_id=this.DATA.PEOPLE_ID;$task1=Client.Core.Api.GetAsync$1("DbClubGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CLUB=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.CLUB),$taskResult1))[0];Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("nome",this.CLUB.NAME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.NAME=s}),!0,void 0,void 0,0,!0,"club",!1,void 0);this.Add("indirizzo",this.CLUB.ADDRESS,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.ADDRESS=s}),!0,void 0,void 0,0,!0,"club",!1,void 0);this.Add("dominio",this.CLUB.DOMAIN,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.DOMAIN=s}),!0,void 0,void 0,0,!0,"club",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbClubDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbClubSave",Client.Core.Serialization.Serialize(this.CLUB));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormCourseData",{inherits:[Client.Module.ModForm],fields:{COURSE_DATA:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnActivate:function(v){this.COURSE_DATA.IS_ACTIVE=v},OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=Client.Core.Serialization.Serialize(this.DATA.ID);$task1=Client.Core.Api.GetAsync$1("DbCourseGetByID",Client.Core.Serialization.Serialize(id));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.COURSE_DATA=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.COURSE_DATA),$taskResult1))[0];this.SELECTACTIVE.value=System.Boolean.toString(this.COURSE_DATA.IS_ACTIVE).toLowerCase();this.Add("giorno",this.COURSE_DATA.DAY,Client.Model.Enums.EWEEKDAY,void 0,void 0,Bridge.fn.bind(this,function(s){this.COURSE_DATA.DAY=s}),!0,void 0,void 0,0,!0,"gestione corso",!1,void 0);this.Add("ora",this.COURSE_DATA.STIME,Client.Module.ModForm.TypeTime,void 0,void 0,Bridge.fn.bind(this,function(s){this.COURSE_DATA.STIME=s}),!0,void 0,void 0,0,!0,"gestione corso",!1,void 0);this.Add("posti",this.COURSE_DATA.PLACES,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.COURSE_DATA.PLACES=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"gestione corso",!1,void 0);this.Add("trainer",this.COURSE_DATA.TRAINER_id,Client.Module.ModForm.TypeSelect,void 0,"DbTrainersGetMin",Bridge.fn.bind(this,function(s){this.COURSE_DATA.TRAINER_id=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"gestione corso",!1,void 0);this.Add("corso",this.COURSE_DATA.COURSE_id,Client.Module.ModForm.TypeSelect,void 0,"DbCoursesGetMin",Bridge.fn.bind(this,function(s){this.COURSE_DATA.COURSE_id=Client.Core.Types.ToInt(s)}),!0,void 0,void 0,0,!0,"gestione corso",!1,void 0);this.Add("club di appartenenza",this.COURSE_DATA.CLUB_ID,Client.Module.ModForm.TypeSelect,void 0,"DbClubGetMin",Bridge.fn.bind(this,function(s){this.COURSE_DATA.CLUB_ID=Client.Core.Types.ToInt(s)}),!1,void 0,void 0,0,!0,"gestione corso",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCourseDataDelete",Client.Core.Serialization.Serialize(this.COURSE_DATA.ID));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbCourseDataSave",Client.Core.Serialization.Serialize(this.COURSE_DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormExercise",{inherits:[Client.Module.ModForm],fields:{EXERCISE:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;$task1=Client.Core.Api.GetAsync$1("DbExerciseGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.EXERCISE=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.EXERCISE),$taskResult1))[0];Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("nome",this.EXERCISE.NAME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.EXERCISE.NAME=s}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("muscolo",this.EXERCISE.EMUSCLE,Client.Model.Enums.EMUSCLE,void 0,void 0,Bridge.fn.bind(this,function(s){this.EXERCISE.EMUSCLE=s}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);this.Add("url",this.EXERCISE.URL,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.EXERCISE.URL=s}),!0,void 0,void 0,0,!0,"esercizio",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbExerciseDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbExerciseSave",Client.Core.Serialization.Serialize(this.EXERCISE));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormPT",{inherits:[Client.Module.ModForm],fields:{PEOPLE_PT:null},props:{ISADMIN:{get:function(){var $t;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))}}},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$task3,$taskResult3,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4,5],$step);switch($step){case 0:id=this.DATA.ID;$task1=Client.Core.Api.GetAsync$1("DbPTGetByID",Client.Core.Serialization.Serialize(id));$step=1;$task1.continueWith($asyncBody);return;case 1:if($taskResult1=$task1.getAwaitedResult(),this.PEOPLE_PT=System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE_PT),$taskResult1)).firstOrDefault(null,null),this.PEOPLE_PT==null){$step=2;continue}$step=4;continue;case 2:$task2=Client.Core.Api.GetAsync$1("DbPTGetByID",Client.Core.Serialization.Serialize(0));$step=3;$task2.continueWith($asyncBody);return;case 3:$taskResult2=$task2.getAwaitedResult();this.PEOPLE_PT=System.Linq.Enumerable.from(Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE_PT),$taskResult2)).firstOrDefault(null,null);this.PEOPLE_PT.PEOPLE_ID=id;$step=4;continue;case 4:Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.ISADMIN||this.PEOPLE_PT.PEOPLE_ID!==Client.App.PEOPLE.ID&&Client.Core.PageJs.Back();$task3=Client.Core.Maps.GetMyAddress();$step=5;$task3.continueWith($asyncBody);return;case 5:$taskResult3=$task3.getAwaitedResult();this.PEOPLE_PT.ADDRESS=$taskResult3;this.Add("nome",this.PEOPLE_PT.PEOPLE_ID,Client.Module.ModForm.TypeSelect,void 0,"DbTrainersGetMin",Bridge.fn.bind(this,function(s){this.PEOPLE_PT.PEOPLE_ID=Client.Core.Types.ToInt(s)}),!1,void 0,void 0,0,System.Nullable.eq(this.PEOPLE_PT!=null?this.PEOPLE_PT.ID:null,0),"personal trainer",!1,void 0);this.Add("posizione auto-rilevata",this.PEOPLE_PT.ADDRESS,System.String,void 0,void 0,void 0,!0,void 0,void 0,0,!0,"personal trainer",!1,void 0);this.Add("area di lavoro",this.PEOPLE_PT.AREA,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_PT.AREA=Bridge.toString(s)}),!0,void 0,void 0,0,!0,"personal trainer",!1,void 0);this.Add("titolo",this.PEOPLE_PT.PATENT,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.PEOPLE_PT.PATENT=s}),!1,void 0,void 0,0,!0,"personal trainer",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnAddTabs:function(hash){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:if(this.PEOPLE_PT.ID===0){$tcs.setResult(null);return}this.CONTROLTAB.AddButton("clienti",Bridge.fn.bind(this,function(){var $step=0,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:Client.Core.PageJs.Hash("clienti");return;default:return}}},arguments);$asyncBody()}),Bridge.referenceEquals(hash,"clienti"));Bridge.referenceEquals(hash,"clienti")&&(Client.Core.DomJs.Clear(this.DIVCONTENT),Client.Core.DomJs.Add$3(this.DIVCONTENT,this.TOOLBAR),this.TOOLBAR.Clear(),Client.Core.ControlStyles_GENERATED.None(this.TOOLBAR),Client.Core.DomJs.Add$3(this.DIVCONTENT,(new Client.Controls.ControlList).AddRowHeader(function(row){row.AddCellHeaderIndex();row.AddCellHeader("nome")}).Action$1(Bridge.fn.bind(this,function(control){var $step=0,$task1,$taskResult1,control,$jumpFromFinally,index,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:index=1;$task1=Client.Core.Api.GetAsync$1("DbPTGetClients",Client.Core.Serialization.Serialize(this.PEOPLE_PT.PEOPLE_ID));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.PEOPLE),$taskResult1).forEach(function(x){control.AddRow(function(row){var $t;row.AddCellIndex(index);Client.Core.ControlStyles_GENERATED.Capitalize(row.AddCell$2(($t=x.NAME)!=null?$t.toLowerCase():null));index++})});return;default:return}}},arguments);$asyncBody()}))));$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbPTDelete",Client.Core.Serialization.Serialize(this.PEOPLE_PT.PEOPLE_ID));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbPTSave",Client.Core.Serialization.Serialize(this.PEOPLE_PT));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormScadenza",{inherits:[Client.Module.ModForm],fields:{ID:0,SCADENZA:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$t1,$t2,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:this.ID=this.DATA.ID;$task1=Client.Core.Api.GetAsync$1("DbScadenzeByID",Client.Core.Serialization.Serialize({ID:this.ID}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.SCADENZA=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.SCADENZE),$taskResult1))[0];this.Add("ID",this.SCADENZA.ID,System.String,void 0,void 0,null,!0,void 0,void 0,0,!1,"",!1,void 0);this.Add("nome",this.SCADENZA.NAME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.SCADENZA.NAME=s}),!0,void 0,void 0,0,!0,"",!1,void 0);this.Add("DATA scadenza",this.SCADENZA.DATE,System.DateTime,void 0,void 0,Bridge.fn.bind(this,function(s){this.SCADENZA.DATE=Client.Core.Types.ToDatetime(s)}),!0,void 0,void 0,0,!0,"",!1,void 0);this.Add("ricorrenza",this.SCADENZA.REC,System.Int32,void 0,void 0,Bridge.fn.bind(this,function(s){this.SCADENZA.REC=Client.Core.Types.ToInt(s)}),!1,void 0,void 0,0,!0,"",!1,void 0);this.Add("utenti",1,Client.Module.ModForm.TypeSelect,void 0,"DbScadenzeUtentiGetMin",Bridge.fn.bind(this,function(s){this.SCADENZA.RO_UTENTI=s}),!0,void 0,void 0,0,!0,"",!0,($t1=this.SCADENZA.RO_UTENTI)!=null?System.Linq.Enumerable.from(System.String.split($t1,[124].map(function(i){return String.fromCharCode(i)}))).select(function(x){return x}).toList(System.String):null);this.Add("clienti",1,Client.Module.ModForm.TypeSelect,void 0,"DbScadenzeClientiGetMin",Bridge.fn.bind(this,function(s){this.SCADENZA.RO_CLIENTI=s}),!0,void 0,void 0,0,!0,"",!0,($t2=this.SCADENZA.RO_CLIENTI)!=null?System.Linq.Enumerable.from(System.String.split($t2,[124].map(function(i){return String.fromCharCode(i)}))).select(function(x){return x}).toList(System.String):null);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbScadenzeDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=this.Save();$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult($taskResult1);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Save:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbScadenzeSave",Client.Core.Serialization.Serialize(this.SCADENZA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModFormUtenti",{inherits:[Client.Module.ModForm],fields:{CLUB:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModForm.ctor.call(this,ctx)}},methods:{OnAdd:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,id,people_id,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:id=this.DATA.ID;people_id=this.DATA.PEOPLE_ID;$task1=Client.Core.Api.GetAsync$1("DbUtentiGetByID",Client.Core.Serialization.Serialize({ID:id}));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();this.CLUB=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.UTENTI),$taskResult1))[0];Client.Core.DomJs.Class$1(this.SELECTACTIVE,["none"]);this.Add("cognome",this.CLUB.COGNOME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.COGNOME=s}),!0,void 0,void 0,0,!0,"",!1,void 0);this.Add("nome",this.CLUB.NOME,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.NOME=s}),!0,void 0,void 0,0,!0,"",!1,void 0);this.Add("email",this.CLUB.EMAIL,System.String,void 0,void 0,Bridge.fn.bind(this,function(s){this.CLUB.EMAIL=s}),!0,void 0,void 0,0,!0,"",!1,void 0);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbDelete:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbUtentiDelete",Client.Core.Serialization.Serialize(this.DATA));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},OnDbSave:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbUtentiSave",Client.Core.Serialization.Serialize(this.CLUB));$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();$tcs.setResult(Client.Core.Types.ToInt($taskResult1));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModPT",{inherits:[Client.Module.ModToolbar],fields:{CONTROLLIST:null,ADDRESS:null},props:{CANMODIFY:{get:function(){var $t,$t1,$t2;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))||Bridge.referenceEquals(($t1=Client.App.PEOPLE)!=null?$t1.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"TRAINER"))||Bridge.referenceEquals(($t2=Client.App.PEOPLE)!=null?$t2.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"STAFF"))}},ISADMIN:{get:function(){var $t;return Bridge.referenceEquals(($t=Client.App.PEOPLE)!=null?$t.EPROFILE:null,System.Enum.toString(Client.Model.Enums.EPROFILE,"ADMINISTRATOR"))}}},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$task2=Client.Core.Maps.GetMyAddress();$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();this.ADDRESS=$taskResult2;this.TOOLBAR.Reload(Bridge.fn.cacheBind(this,this.CONTROLLIST_refresh));this.CONTROLLIST_refresh();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},CONTROLLIST_refresh:function(){this.CONTROLLIST!=null?this.CONTROLLIST.Remove():null;this.CONTROLLIST=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,this.CONTROLLIST.Caption(this.CANMODIFY?Client.Core.ControlStyles_GENERATED.Hover(Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Pointer(Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Click(function(){Client.Core.PageJs.Redirect("/pt",{ID:0})}).Content("registrati come personal trainer")))))):null).AddRowHeader(function(row){Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeaderIndex());row.AddCellHeader();row.AddCellHeader("trainer");Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("rating"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("area"));Client.Core.ControlStyles_GENERATED.Des(row.AddCellHeader("distanza"));Client.Core.ControlStyles_GENERATED.Mob(row.AddCellHeader());row.AddCellHeader()}).Fetch(Client.Model.PEOPLE_PT,"DbPTGetAll",Client.Core.Serialization.Serialize({address:this.ADDRESS}),Bridge.fn.bind(this,function(control,list){var index=1;list.forEach(Bridge.fn.bind(this,function(x){control.AddRow(Bridge.fn.bind(this,function(row){var $t,$t1;Client.Core.ControlStyles_GENERATED.Des(row.AddCellIndex(index));Client.Core.ControlStyles_GENERATED.Acenter(row.AddCell(new Client.Controls.ControlAvatar(x.RO_PROFILE_PIC)));row.AddCell(Client.Core.DomJs.Add(Client.Core.DomJs.Add(new Client.Core.Control.ctor,Client.Core.ControlStyles_GENERATED.Bolder(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Capitalize(Client.Core.ControlStyles_GENERATED.Nowrap((new Client.Core.Control.ctor).Content(($t=x.RO_PT_NAME)!=null?$t.toLowerCase():null)))))),Client.Core.ControlStyles_GENERATED.FontSizeSS(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(($t1=x.PATENT)!=null?$t1.toLowerCase():null)))));Client.Core.ControlStyles_GENERATED.Des(row.AddCell(new Client.Controls.ControlRating));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Nowrap(row.AddCell$2(x.AREA))));Client.Core.ControlStyles_GENERATED.Mob(Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Nowrap(row.AddCell$2(x.RO_DIST))));Client.Core.ControlStyles_GENERATED.Des(Client.Core.ControlStyles_GENERATED.Nowrap(Client.Core.ControlStyles_GENERATED.FontSizeSImp(Client.Core.ControlStyles_GENERATED.Uppercase(row.AddCell((new Client.Core.Control.ctor).Content(x.RO_DIST))))));Client.Core.ControlStyles_GENERATED.Aright(row.AddCell(Client.Core.DomJs.Add(Client.Core.DomJs.Add(Client.Core.ControlStyles_GENERATED.JustifyContentFlexEnd(Client.Core.ControlStyles_GENERATED.F00(new Client.Core.Control.ctor)),Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("email","fas fa-envelope").Click$1(Bridge.fn.bind(this,function(evt){var $step=0,evt,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:evt.stopPropagation();evt.preventDefault();location.href="mailto:"+(x.RO_MAIL.toLowerCase()||"");return;default:return}}},arguments);$asyncBody()})))),Client.Core.ControlStyles_GENERATED.MarginLeftMin(new Client.Controls.ControlButton("chiama","fas fa-phone-square").Click$1(Bridge.fn.bind(this,function(evt){var $step=0,evt,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0],$step);switch($step){case 0:evt.stopPropagation();evt.preventDefault();location.href="tel:"+(x.RO_PHONE_NUMBER||"");return;default:return}}},arguments);$asyncBody()}))))));row.Click(Bridge.fn.bind(this,function(){var $t2;if(!this.ISADMIN){if(!this.CANMODIFY)return;if(System.Nullable.neq(($t2=Client.App.PEOPLE)!=null?$t2.ID:null,x.PEOPLE_ID))return}Client.Core.PageJs.Redirect("/pt",{ID:x.ID})}));index++}))}))})))}}});Bridge.define("Client.Module.ModRegister",{inherits:[Client.Module.ModToolbar],fields:{BTNREGISTER:null,FORMREGISTER:null,R_CLUB_ID:null,R_FIRSTNAME:null,R_LASTNAME:null,R_MAIL:null,R_PASSWORD:null,R_PHONE:null},ctors:{init:function(){var $t;this.BTNREGISTER=new Client.Controls.ControlButtonFull("entra nel mondo kymera","fas fa-sign-in-alt");this.FORMREGISTER=new Client.Core.Control.$ctor1("form");this.R_CLUB_ID=($t=document.createElement("select"),$t.required=!1,$t);this.R_FIRSTNAME=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t);this.R_LASTNAME=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t);this.R_MAIL=($t=document.createElement("input"),$t.required=!0,$t.type="mail",$t);this.R_PASSWORD=($t=document.createElement("input"),$t.required=!0,$t.type="password",$t.minLength=4,$t);this.R_PHONE=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t.value="+39",$t)},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$task2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();Client.Core.ControlStyles_GENERATED.Modlogin(this.FORMREGISTER);new Client.Controls.ControlStickyButton(null).SELECTORINSTANCE.remove();$task2=this.Register();$step=2;$task2.continueWith($asyncBody);return;case 2:$task2.getAwaitedResult();Client.Core.DomJs.Add(this.DIVCONTENT,this.FORMREGISTER);this.TOOLBAR.Remove();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Register:function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,clubs,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync("DbClubGetMinPublic");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();clubs=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.CLUB),$taskResult1);System.Linq.Enumerable.from(clubs).toList(Client.Model.CLUB).ForEach(Bridge.fn.bind(this,function(x){var $t;this.R_CLUB_ID.options.add(($t=document.createElement("option"),$t.text=x.NAME,$t.value=Bridge.toString(x.ID),$t))}));this.FORMREGISTER.DIV.setAttribute("onsubmit","return false");this.FORMREGISTER.DIV.setAttribute("autocomplete","off");Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("nome"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(deve essere il tuo nome reale)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_FIRSTNAME);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("Cognome"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(deve essere il tuo cognome reale)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_LASTNAME);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("numero telefonico"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(il tuo numero di cellulare deve iniziare con +39)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_PHONE);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("indirizzo mail"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(il tuo reale indirizzo mail)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_MAIL);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("password"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(minimo 4 cifre)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_PASSWORD);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("club"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(club di appartenenza, WWW se sei indipendente)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_CLUB_ID);this.BTNREGISTER.Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,res,$t,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(!this.FORMREGISTER.DIV.reportValidity())return;$task1=Client.Core.Api.GetAsync$1("DbUsersAutoRegister",Client.Core.Serialization.Serialize(($t=new Client.Model.PEOPLE,$t.FIRSTNAME=this.R_FIRSTNAME.value,$t.CLUB_ID=System.String.isNullOrEmpty(this.R_CLUB_ID.value)?null:Client.Core.Types.ToIntNull(this.R_CLUB_ID.value),$t.LASTNAME=this.R_LASTNAME.value,$t.PHONE_NUMBER=this.R_PHONE.value,$t.EMAIL=this.R_MAIL.value,$t.PASSWORD=this.R_PASSWORD.value,$t)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;window.location.href="/me";return;default:return}}},arguments);$asyncBody()}));Client.Core.DomJs.Add(this.FORMREGISTER,this.BTNREGISTER);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModRegisterCrossfit",{inherits:[Client.Module.ModToolbar],fields:{BTNREGISTER:null,FORMREGISTER:null,R_CLUB_ID:null,R_FIRSTNAME:null,R_BIRTHDATE:null,R_LASTNAME:null,R_MAIL:null,R_PASSWORD:null,R_PHONE:null},ctors:{init:function(){var $t;this.BTNREGISTER=new Client.Controls.ControlButtonFull("entra nel mondo kymera (CROSSFIT)","fas fa-sign-in-alt");this.FORMREGISTER=new Client.Core.Control.$ctor1("form");this.R_CLUB_ID=($t=document.createElement("select"),$t.required=!1,$t);this.R_FIRSTNAME=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t);this.R_BIRTHDATE=($t=document.createElement("input"),$t.required=!0,$t.type="date",$t);this.R_LASTNAME=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t);this.R_MAIL=($t=document.createElement("input"),$t.required=!0,$t.type="mail",$t);this.R_PASSWORD=($t=document.createElement("input"),$t.required=!0,$t.type="password",$t.minLength=4,$t);this.R_PHONE=($t=document.createElement("input"),$t.required=!0,$t.type="text",$t.value="+39",$t)},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$task2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();Client.Core.ControlStyles_GENERATED.Modlogin(this.FORMREGISTER);new Client.Controls.ControlStickyButton(null).SELECTORINSTANCE.remove();$task2=this.Register();$step=2;$task2.continueWith($asyncBody);return;case 2:$task2.getAwaitedResult();Client.Core.DomJs.Add(this.DIVCONTENT,this.FORMREGISTER);this.TOOLBAR.Remove();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},Register:function(){var $step=0,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0],$step);switch($step){case 0:this.FORMREGISTER.DIV.setAttribute("onsubmit","return false");this.FORMREGISTER.DIV.setAttribute("autocomplete","off");Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.Width100Perc(new Client.Controls.ControlImage("/images/social_crossfit2.jpg")));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("nome"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(deve essere il tuo nome reale)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_FIRSTNAME);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("Cognome"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(deve essere il tuo cognome reale)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_LASTNAME);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("Data di Nascita"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_BIRTHDATE);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("numero telefonico"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(il tuo numero di cellulare deve iniziare con +39)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_PHONE);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("indirizzo mail"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(il tuo reale indirizzo mail)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_MAIL);Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabel(new Client.Core.Control.$ctor1("label")).Content("password"));Client.Core.DomJs.Add(this.FORMREGISTER,Client.Core.ControlStyles_GENERATED.ModloginLabelDown(new Client.Core.Control.$ctor1("label")).Content("(minimo 4 cifre)"));Client.Core.DomJs.Add$2(this.FORMREGISTER,this.R_PASSWORD);this.BTNREGISTER.Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,res,$t,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:if(!this.FORMREGISTER.DIV.reportValidity())return;$task1=Client.Core.Api.GetAsync$1("DbUsersAutoRegisterCrossfit",Client.Core.Serialization.Serialize(($t=new Client.Model.PEOPLE,$t.FIRSTNAME=this.R_FIRSTNAME.value,$t.LASTNAME=this.R_LASTNAME.value,$t.PHONE_NUMBER=this.R_PHONE.value,$t.EMAIL=this.R_MAIL.value,$t.PASSWORD=this.R_PASSWORD.value,$t.BIRTH_DATE=Client.Core.Types.ToDatetime(this.R_BIRTHDATE.value),$t)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;window.location.href="/me";return;default:return}}},arguments);$asyncBody()}));Client.Core.DomJs.Add(this.FORMREGISTER,this.BTNREGISTER);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModSubscription",{inherits:[Client.Module.ModToolbar],statics:{methods:{AddRow:function(list,title,price){list.AddRow(function(row){row.AddCell(Client.Core.ControlStyles_GENERATED.FontSizeS(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(title))));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Nowrap(row.AddCell(Client.Core.ControlStyles_GENERATED.TagBaseBig(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(System.Double.format(price)+" eur")))))))})}}},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,list,list2,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();Client.Core.DomJs.Add(this.TOOLBAR,(new Client.Core.Control.ctor).Content("gestione sottoscrizione KYMERA.CLOUD"));Client.Core.DomJs.Add(this.DIVCONTENT,Client.Core.ControlStyles_GENERATED.Margin(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.Acenter(Client.Core.ControlStyles_GENERATED.FontSizeLL((new Client.Core.Control.ctor).Content("Condizioni valide fino al 31/12/2018"))))));list=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,list);Client.Module.ModSubscription.AddRow(list,"mantenimento cloud server",400);Client.Module.ModSubscription.AddRow(list,"correzione problemi entro 24H",100);Client.Module.ModSubscription.AddRow(list,"assistenza tecnica 24/7",100);Client.Module.ModSubscription.AddRow(list,"manutenzione controller ANVIZ",100);list.AddRow(function(row){row.AddCell(Client.Core.ControlStyles_GENERATED.FontSizeS(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content(""))));Client.Core.ControlStyles_GENERATED.Aright(Client.Core.ControlStyles_GENERATED.Nowrap(row.AddCell(Client.Core.ControlStyles_GENERATED.TagAccentBig(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Uppercase((new Client.Core.Control.ctor).Content("700 eur")))))))});Client.Core.DomJs.Add(this.DIVCONTENT,Client.Core.ControlStyles_GENERATED.Margin(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.Acenter(Client.Core.ControlStyles_GENERATED.FontSizeLL((new Client.Core.Control.ctor).Content("Formule Aggiuntive"))))));list2=new Client.Controls.ControlList;Client.Core.DomJs.Add(this.DIVCONTENT,list2);Client.Module.ModSubscription.AddRow(list2,"evolutiva MINI",100);Client.Module.ModSubscription.AddRow(list2,"evolutiva BASE",200);Client.Module.ModSubscription.AddRow(list2,"evolutiva MAX",300);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModTablet",{inherits:[Client.Module.ModToolbar],fields:{BTNBOOK:null,C_BTNBOOK:null,FORM:null,C_BTNFULLSCREEN:null,C_SELECTCOURSE:null,C_SELECTUSER:null,LBLALERT:null,L_SELECTCOURSE:null,L_SELECTUSER:null,SELECTCOURSE:null,SELECTUSER:null},ctors:{init:function(){var $t;this.BTNBOOK=new Client.Controls.ControlButtonFull("prenota subito","fas fa-calendar-check");this.C_BTNBOOK=Client.Core.ControlStyles_GENERATED.Padding(new Client.Core.Control.ctor);this.FORM=new Client.Core.Control.$ctor1("form");this.C_BTNFULLSCREEN=Client.Core.ControlStyles_GENERATED.Padding(new Client.Core.Control.ctor);this.C_SELECTCOURSE=Client.Core.ControlStyles_GENERATED.Padding(new Client.Core.Control.ctor);this.C_SELECTUSER=Client.Core.ControlStyles_GENERATED.Padding(new Client.Core.Control.ctor);this.LBLALERT=Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.FontSizeL(Client.Core.ControlStyles_GENERATED.Margin(Client.Core.ControlStyles_GENERATED.Padding(Client.Core.ControlStyles_GENERATED.Bold(new Client.Core.Control.ctor).Content("la tua prenotazione Ã¨ stata presa in carico, Grazie!")))));this.L_SELECTCOURSE=Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.PaddingTop(Client.Core.ControlStyles_GENERATED.Bold((new Client.Core.Control.ctor).Content("corso"))));this.L_SELECTUSER=Client.Core.ControlStyles_GENERATED.Uppercase(Client.Core.ControlStyles_GENERATED.Bold((new Client.Core.Control.ctor).Content("utente")));this.SELECTCOURSE=($t=document.createElement("select"),$t.required=!0,$t);this.SELECTUSER=($t=document.createElement("select"),$t.required=!0,$t)},ctor:function(ctx){this.$initialize();Client.Module.ModToolbar.ctor.call(this,ctx)}},methods:{OnRender:function(){var $step=0,$task1,$task2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Module.ModToolbar.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$task2=this.Refresh();$step=2;$task2.continueWith($asyncBody);return;case 2:$task2.getAwaitedResult();$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task},FullScreen:function(){window.document.fullscreenEnabled?window.document.documentElement.requestFullscreen():window.document.webkitFullscreenEnabled&&window.document.documentElement.webkitRequestFullscreen();Client.App.HEADER.Remove();Client.App.NAVIGATOR.Remove();this.C_BTNFULLSCREEN.Remove()},GetFilteredHash:function(){return Client.Core.Serialization.Serialize({week:System.Enum.toString(Client.Model.Enums.EWEEK,"QUESTA_SETTIMANA")})},Refresh:function(){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$task3,$taskResult3,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,users,courses_thisweek,courses_nextweek,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3],$step);switch($step){case 0:this.FORM.DIV.setAttribute("onsubmit","return false");this.TOOLBAR.Remove();this.DIVCONTENT.Clear();Client.Core.ControlStyles_GENERATED.W100(Client.Core.ControlStyles_GENERATED.AlignContentCenter(Client.Core.ControlStyles_GENERATED.AlignItemsCenter(Client.Core.ControlStyles_GENERATED.JustifyContentCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.F11(this.DIVCONTENT))))));Client.Core.ControlStyles_GENERATED.W100(Client.Core.ControlStyles_GENERATED.AlignContentCenter(Client.Core.ControlStyles_GENERATED.AlignItemsCenter(Client.Core.ControlStyles_GENERATED.JustifyContentCenter(Client.Core.ControlStyles_GENERATED.Column(Client.Core.ControlStyles_GENERATED.F11(this.FORM))))));$task1=Client.Core.Api.GetAsync("DbUserGetMin");$step=1;$task1.continueWith($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();users=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.PEOPLE),$taskResult1);$task2=Client.Core.Api.GetAsync$1("DbCoursesGeAll",Client.Core.Serialization.Serialize({week:System.Enum.toString(Client.Model.Enums.EWEEK,"QUESTA_SETTIMANA")}));$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();courses_thisweek=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.COURSE_DATA),$taskResult2);$task3=Client.Core.Api.GetAsync$1("DbCoursesGeAll",Client.Core.Serialization.Serialize({week:System.Enum.toString(Client.Model.Enums.EWEEK,"SETTIMANA_PROSSIMA")}));$step=3;$task3.continueWith($asyncBody);return;case 3:$taskResult3=$task3.getAwaitedResult();courses_nextweek=Client.Core.Serialization.Deserialize(System.Collections.Generic.List$1(Client.Model.COURSE_DATA),$taskResult3);this.SELECTUSER.options.add(document.createElement("option"));users.ForEach(Bridge.fn.bind(this,function(x){var $t;this.SELECTUSER.options.add(($t=document.createElement("option"),$t.value=Bridge.toString(x.ID),$t.text=x.NAME.toUpperCase(),$t))}));this.SELECTCOURSE.options.add(document.createElement("option"));this.SELECTCOURSE.options.add(($t=document.createElement("optgroup"),$t.label="QUESTA SETTIMANA",$t));courses_thisweek.ForEach(Bridge.fn.bind(this,function(x){var $t1,is_suspended=Bridge.referenceEquals(Bridge.toString(x.RO_STATUS),System.Enum.toString(Client.Model.Enums.ECOURSESTATUS,"SUSPENDED")),is_full=Bridge.referenceEquals(Bridge.toString(x.RO_STATUS),"pieno");is_suspended||is_full||this.SELECTCOURSE.options.add(($t1=document.createElement("option"),$t1.value=Client.Core.Serialization.Serialize(x),$t1.text=(x.RO_COURSE_NAME.toUpperCase()||"")+" - "+(Client.Core.MomentJs.MomentFormat(x.DATE,"dddd LLL")||"")+" - "+(x.RO_FREE_PLACES+"/"+System.Nullable.toString(x.PLACES,null)||""),$t1))}));this.SELECTCOURSE.options.add(($t=document.createElement("optgroup"),$t.label="SETTIMANA PROSSIMA",$t));courses_nextweek.ForEach(Bridge.fn.bind(this,function(x){var $t1;this.SELECTCOURSE.options.add(($t1=document.createElement("option"),$t1.value=Client.Core.Serialization.Serialize(x),$t1.text=(x.RO_COURSE_NAME.toUpperCase()||"")+" - "+(Client.Core.MomentJs.MomentFormat(x.DATE,"dddd LLL")||"")+" - "+(x.RO_FREE_PLACES+"/"+System.Nullable.toString(x.PLACES,null)||""),$t1))}));this.BTNBOOK.Click(Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,course_data,$t1,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:course_data=Client.Core.Serialization.Deserialize(Client.Model.COURSE_DATA,this.SELECTCOURSE.value);$task1=Client.Core.Api.GetAsync$1("DbCourseBook",Client.Core.Serialization.Serialize(($t1=new Client.Model.COURSE_DATA,$t1.ID=course_data.ID,$t1.WEEK=course_data.WEEK,$t1.RO_COURSE_DATA_PEOPLE_ID=Client.Core.Types.ToInt(this.SELECTUSER.value),$t1)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.DomJs.Add(this.FORM,this.LBLALERT);Client.Core.DomJs.Class(this.LBLALERT,["animated flash infinite"]);setTimeout(Bridge.fn.bind(this,function(a){var $step=0,$task1,a,$jumpFromFinally,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:this.LBLALERT.Remove();$task1=this.Refresh();$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$task1.getAwaitedResult();return;default:return}}},arguments);$asyncBody()}),3e3);return;default:return}}},arguments);$asyncBody()}));this.SELECTCOURSE.selectedIndex=0;this.SELECTUSER.selectedIndex=0;Client.Core.DomJs.Add$2(this.C_SELECTUSER,this.SELECTUSER);Client.Core.DomJs.Add$2(this.C_SELECTCOURSE,this.SELECTCOURSE);Client.Core.DomJs.Add(this.C_BTNBOOK,this.BTNBOOK);Client.Core.DomJs.Add(this.FORM,this.L_SELECTUSER);Client.Core.DomJs.Add(this.FORM,this.C_SELECTUSER);Client.Core.DomJs.Add(this.FORM,this.L_SELECTCOURSE);Client.Core.DomJs.Add(this.FORM,this.C_SELECTCOURSE);Client.Core.DomJs.Add(this.FORM,this.C_BTNBOOK);Client.Core.DomJs.Add(this.DIVCONTENT,this.FORM);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}});Bridge.define("Client.Module.ModChangePhoto",{inherits:[Client.Module.ModBackTitle],fields:{PEOPLE:null},ctors:{ctor:function(ctx){this.$initialize();Client.Module.ModBackTitle.ctor.call(this,ctx)}},methods:{OnGetTitle:function(){return"modifica la foto profilo"},OnRender:function(){var $step=0,$task1,$task2,$taskResult2,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,image,file,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2],$step);switch($step){case 0:$task1=Client.Module.ModBackTitle.prototype.OnRender.call(this);$step=1;$task1.continueWith($asyncBody);return;case 1:$task1.getAwaitedResult();$task2=Client.Core.Api.GetAsync$1("DbUserGetCurrent",Client.Core.Serialization.Serialize({}));$step=2;$task2.continueWith($asyncBody);return;case 2:$taskResult2=$task2.getAwaitedResult();this.PEOPLE=($t=Client.Core.Serialization.Deserialize(System.Array.type(Client.Model.PEOPLE),$taskResult2))[0];image=document.createElement("img");image.classList.add("img-profile");image.src=this.PEOPLE.PROFILE_PIC;file=document.createElement("input");file.type="file";file.onchange=Bridge.fn.bind(this,function(ev){setTimeout(Bridge.fn.bind(this,function(e){var $step=0,$task1,$taskResult1,e,$jumpFromFinally,res,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.UploadAsync("DbUploadProfileImage",file.files[0]);$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();res=$taskResult1;image.src=res;this.PEOPLE.PROFILE_PIC=res;return;default:return}}},arguments);$asyncBody()}),0)});this.TOOLBAR.RightIcon("fas fa-save",Bridge.fn.bind(this,function(){var $step=0,$task1,$taskResult1,$jumpFromFinally,$t1,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1],$step);switch($step){case 0:$task1=Client.Core.Api.GetAsync$1("DbUserSaveProfilePic",Client.Core.Serialization.Serialize(($t1=new Client.Model.PEOPLE,$t1.ID=this.PEOPLE.ID,$t1.PROFILE_PIC=this.PEOPLE.PROFILE_PIC,$t1)));$step=1;$task1.continueWith($asyncBody,!0);return;case 1:$taskResult1=$task1.getAwaitedResult();Client.Core.PageJs.Back();return;default:return}}},arguments);$asyncBody()}));Client.Core.DomJs.Add$2(this.DIVCONTENT,file);Client.Core.DomJs.Add$2(this.DIVCONTENT,image);$tcs.setResult(null);return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}})});